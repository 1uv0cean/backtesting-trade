<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-Z7XKMRM8E5"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-Z7XKMRM8E5");
    </script>
    <!-- Google Tag Manager -->
    <script>
      (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({ "gtm.start": new Date().getTime(), event: "gtm.js" });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != "dataLayer" ? "&l=" + l : "";
        j.async = true;
        j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, "script", "dataLayer", "GTM-WWD9QCQM");
    </script>

    <!-- End Google Tag Manager -->
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <!-- SEO Meta Tags -->
    <title>The 100 Candles: The Backtester</title>
    <meta
      name="description"
      content="Practice trading with real historical data. Test your strategy on The 100 Candles backtester. Can you turn $10,000 into $1,000,000?"
    />
    <meta
      name="keywords"
      content="trading, backtesting, simulator, crypto, bitcoin, forex, practice trading, chart analysis, technical analysis"
    />
    <meta name="author" content="The 100 Candles" />

    <!-- Open Graph Tags -->
    <meta property="og:title" content="The 100 Candles: The Backtester" />
    <meta
      property="og:description"
      content="Can you turn $10,000 into $1,000,000? Test your trading skills on real historical charts."
    />
    <meta
      property="og:image"
      content="https://the100candles.com/share-card.png"
    />
    <meta property="og:url" content="https://the100candles.com" />
    <meta property="og:type" content="website" />

    <!-- Twitter Card Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="The 100 Candles: The Backtester" />
    <meta
      name="twitter:description"
      content="Can you turn $10,000 into $1,000,000? Test your trading skills on real historical charts."
    />
    <meta
      name="twitter:image"
      content="https://the100candles.com/share-card.png"
    />

    <!-- Favicon -->
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üïØÔ∏è</text></svg>"
    />

    <!-- FontAwesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <!-- Driver.js for Tutorial -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/driver.js@1.0.1/dist/driver.css"
    />
    <!-- TradingView Lightweight Charts -->
    <script src="lightweight-charts.js"></script>
    <script src="https://unpkg.com/lightweight-charts@4.1.1/dist/lightweight-charts.standalone.production.js"></script>
    <style>
      :root {
        --bg-color: #131722;
        --chart-bg: #1e222d;
        --text-color: #d1d4dc;
        --accent-green: #26a69a;
        --accent-red: #ef5350;
        --panel-bg: #2a2e39;
        --border-color: #363a45;
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        -webkit-tap-highlight-color: transparent;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          Helvetica, Arial, sans-serif;
        background-color: var(--bg-color);
        color: var(--text-color);
        height: 100dvh; /* Dynamic viewport height for mobile browsers */
        display: flex;
        flex-direction: column;
        overflow-y: auto; /* Allow vertical scroll */
        overflow-x: hidden;
      }

      /* Header */
      header {
        padding: 10px 15px;
        background-color: var(--chart-bg);
        border-bottom: 1px solid var(--border-color);
        display: flex;
        justify-content: space-between;
        align-items: center;
        height: 50px;
        z-index: 10;
        flex-shrink: 0; /* Prevent header from shrinking */
      }

      .logo {
        font-weight: 700;
        font-size: 1.1rem;
        color: #fff;
      }

      .logo i {
        color: var(--accent-green);
        margin-right: 5px;
      }

      .btn-help {
        background: none;
        border: none;
        color: var(--text-color);
        font-size: 1.1rem;
        cursor: pointer;
        margin-left: 10px;
      }

      .header-right {
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .balance-display {
        font-family: monospace;
        font-weight: 700;
        color: #fff;
        background: rgba(255, 255, 255, 0.1);
        padding: 5px 10px;
        border-radius: 4px;
      }

      .scenario-info {
        font-size: 0.8rem;
        color: #787b86;
      }

      /* Chart Container */
      #chart-container {
        flex: 1;
        position: relative;
        width: 100%;
        overflow: hidden;
        min-height: 300px; /* Ensure chart doesn't collapse too much */
      }

      /* Controls Area */
      .controls {
        background-color: var(--chart-bg);
        border-top: 1px solid var(--border-color);
        padding: 15px;
        display: flex;
        flex-direction: column;
        gap: 15px;
        z-index: 20;
        padding-bottom: max(15px, env(safe-area-inset-bottom));
        transition: all 0.3s ease;
      }

      .controls.collapsed {
        padding: 10px 15px;
        gap: 0;
      }

      .controls-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        cursor: pointer;
        padding-bottom: 0;
      }

      .controls-title {
        font-weight: 700;
        font-size: 0.9rem;
        color: #787b86;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      #controls-toggle-icon {
        color: #787b86;
        transition: transform 0.3s;
      }

      .controls.collapsed #controls-toggle-icon {
        transform: rotate(180deg);
      }

      .controls-content {
        display: flex;
        flex-direction: column;
        gap: 15px;
        transition: opacity 0.2s, max-height 0.3s;
        max-height: 500px; /* Approximate max height */
        opacity: 1;
        overflow: hidden;
      }

      .controls.collapsed .controls-content {
        max-height: 0;
        opacity: 0;
        margin: 0;
        padding: 0;
      }

      .leverage-control {
        display: flex;
        flex-direction: column;
        gap: 5px;
        padding-bottom: 10px;
        border-bottom: 1px solid var(--border-color);
        margin-bottom: 10px;
      }

      .trade-direction {
        display: flex;
        gap: 10px;
      }

      .btn-direction {
        flex: 1;
        padding: 12px;
        border: 1px solid var(--border-color);
        background: var(--panel-bg);
        color: #787b86;
        border-radius: 8px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
      }

      .btn-direction.active.long {
        background: rgba(38, 166, 154, 0.2);
        border-color: var(--accent-green);
        color: var(--accent-green);
      }

      .btn-direction.active.short {
        background: rgba(239, 83, 80, 0.2);
        border-color: var(--accent-red);
        color: var(--accent-red);
      }

      .slider-group {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .slider-header {
        display: flex;
        justify-content: space-between;
        font-size: 0.85rem;
      }

      .slider-label {
        font-weight: 500;
      }
      .slider-value {
        font-family: monospace;
      }
      .pnl-preview {
        font-size: 0.75rem;
        font-weight: bold;
      }
      .pnl-preview.profit {
        color: var(--accent-green);
      }
      .pnl-preview.loss {
        color: var(--accent-red);
      }

      input[type="range"] {
        width: 100%;
        -webkit-appearance: none;
        appearance: none;
        background: transparent;
      }

      input[type="range"]::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        height: 20px;
        width: 20px;
        border-radius: 50%;
        background: #fff;
        cursor: pointer;
        margin-top: -8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
      }

      input[type="range"]::-webkit-slider-runnable-track {
        width: 100%;
        height: 4px;
        cursor: pointer;
        background: var(--border-color);
        border-radius: 2px;
      }

      #tp-slider::-webkit-slider-thumb {
        background: var(--accent-green);
      }
      #sl-slider::-webkit-slider-thumb {
        background: var(--accent-red);
      }

      .input-group {
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .price-input {
        background: var(--panel-bg);
        border: 1px solid var(--border-color);
        color: var(--text-color);
        padding: 4px 8px;
        border-radius: 4px;
        width: 80px;
        text-align: right;
        font-family: monospace;
      }

      .tools-bar {
        display: flex;
        gap: 10px;
        padding: 10px 15px;
        background: var(--chart-bg);
        border-bottom: 1px solid var(--border-color);
      }
      .btn-tool {
        background: var(--panel-bg);
        border: 1px solid var(--border-color);
        color: var(--text-color);
        padding: 6px 12px;
        border-radius: 4px;
        cursor: pointer;
        font-size: 0.8rem;
      }
      .btn-tool.active {
        background: var(--accent-green);
        color: white;
        border-color: var(--accent-green);
      }

      #error-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.9);
        color: #ef5350;
        z-index: 9999;
        padding: 20px;
        display: none;
        overflow: auto;
        font-family: monospace;
      }

      .btn-start {
        width: 100%;
        padding: 14px;
        background: #2962ff;
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 1rem;
        font-weight: 700;
        cursor: pointer;
        box-shadow: 0 4px 12px rgba(41, 98, 255, 0.3);
        transition: transform 0.1s;
      }

      .btn-start:active {
        transform: scale(0.98);
      }
      .btn-start:disabled {
        background: #404040;
        color: #787b86;
        box-shadow: none;
      }

      /* Modal */
      .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.8);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 100;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s;
        backdrop-filter: blur(4px);
      }

      .modal-overlay.visible {
        opacity: 1;
        pointer-events: auto;
      }

      .modal {
        background: var(--chart-bg);
        width: 90%;
        max-width: 360px;
        border-radius: 16px;
        padding: 24px;
        text-align: center;
        border: 1px solid var(--border-color);
        transform: translateY(20px);
        transition: transform 0.3s;
      }

      .modal-overlay.visible .modal {
        transform: translateY(0);
      }

      .result-icon {
        font-size: 3rem;
        margin-bottom: 15px;
      }
      .result-title {
        font-size: 1.5rem;
        font-weight: 800;
        margin-bottom: 5px;
      }
      .result-amount {
        font-size: 2rem;
        font-weight: 700;
        margin-bottom: 10px;
        font-family: monospace;
      }
      .result-desc {
        color: #787b86;
        font-size: 0.9rem;
        margin-bottom: 20px;
        line-height: 1.4;
      }

      .btn-cta {
        display: block;
        width: 100%;
        padding: 14px;
        background: var(--accent-green);
        color: white;
        text-decoration: none;
        border-radius: 8px;
        font-weight: 700;
        margin-bottom: 10px;
      }

      .btn-retry {
        background: transparent;
        color: #787b86;
        border: 1px solid var(--border-color);
      }

      /* Toast */
      .toast {
        position: absolute;
        top: 60px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(42, 46, 57, 0.9);
        padding: 8px 16px;
        border-radius: 20px;
        font-size: 0.8rem;
        pointer-events: none;
        opacity: 0;
        transition: opacity 0.3s;
        z-index: 50;
        border: 1px solid var(--border-color);
      }
      .toast.visible {
        opacity: 1;
      }

      /* Live PnL Display */
      #live-pnl-container {
        display: none;
        text-align: center;
        margin-bottom: 10px;
      }
      .live-pnl-value {
        font-size: 2.5rem;
        font-weight: 900;
        font-family: monospace;
        transition: all 0.2s;
      }
      .live-pnl-value.profit {
        color: var(--accent-green);
        text-shadow: 0 0 30px rgba(38, 166, 154, 0.4);
      }
      .live-pnl-value.loss {
        color: var(--accent-red);
        text-shadow: 0 0 30px rgba(239, 83, 80, 0.4);
      }

      @keyframes pulse-profit {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.1);
          text-shadow: 0 0 50px rgba(38, 166, 154, 0.8);
        }
        100% {
          transform: scale(1);
        }
      }
      @keyframes pulse-loss {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.1);
          text-shadow: 0 0 50px rgba(239, 83, 80, 0.8);
        }
        100% {
          transform: scale(1);
        }
      }
      .pulse-profit {
        animation: pulse-profit 0.4s ease-in-out;
      }
      .pulse-loss {
        animation: pulse-loss 0.4s ease-in-out;
      }

      .dashboard {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 10px;
        padding: 10px 15px;
        background: var(--panel-bg);
        border-bottom: 1px solid var(--border-color);
        font-size: 0.9rem;
      }

      .dash-item {
        display: flex;
        flex-direction: column;
      }

      .dash-label {
        font-size: 0.75rem;
        color: #787b86;
        margin-bottom: 2px;
      }

      .dash-value {
        font-weight: 700;
        font-family: monospace;
        font-size: 1rem;
      }

      .dash-value.large {
        font-size: 1.2rem;
      }
      .dash-value.profit {
        color: var(--accent-green);
      }
      .dash-value.loss {
        color: var(--accent-red);
      }
      #dash-balance {
        color: #ffd700;
        text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
      }

      .btn-icon-share {
        background: none;
        border: none;
        color: #787b86;
        cursor: pointer;
        font-size: 0.9rem;
        padding: 0;
        transition: color 0.2s;
      }
      .btn-icon-share:hover {
        color: #2962ff;
      }

      .leverage-control {
        display: flex;
        flex-direction: column;
        gap: 5px;
        padding-bottom: 10px;
        border-bottom: 1px solid var(--border-color);
        margin-bottom: 10px;
      }

      /* Load Context Button */
      .btn-load-context {
        position: absolute;
        top: 10px;
        left: 10px;
        z-index: 30;
        background: rgba(42, 46, 57, 0.9);
        border: 1px solid var(--border-color);
        color: var(--text-color);
        padding: 6px 12px;
        border-radius: 6px;
        font-size: 0.8rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s;
        backdrop-filter: blur(4px);
      }

      .btn-load-context:hover:not(:disabled) {
        background: rgba(42, 46, 57, 1);
        border-color: var(--accent-green);
        transform: translateY(-1px);
      }

      .btn-load-context:active:not(:disabled) {
        transform: translateY(0);
      }

      .btn-load-context:disabled {
        opacity: 0.4;
        cursor: not-allowed;
      }

      /* Skip Candle Button */
      .btn-skip-candle {
        width: 100%;
        padding: 12px;
        background: #5a6c7d;
        color: white;
        border: none;
        border-radius: 8px;
        font-size: 0.95rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s;
        margin-bottom: 10px;
      }

      .btn-skip-candle:hover:not(:disabled) {
        background: #6b7d8f;
        transform: translateY(-1px);
      }

      .btn-skip-candle:active:not(:disabled) {
        transform: scale(0.98);
      }

      .btn-skip-candle:disabled {
        background: #404040;
        color: #787b86;
        cursor: not-allowed;
      }

      /* Close Position Button */
      .btn-close-position {
        background: var(--accent-red) !important;
        animation: pulse-close 1.5s ease-in-out infinite;
      }

      @keyframes pulse-close {
        0%,
        100% {
          box-shadow: 0 4px 12px rgba(239, 83, 80, 0.3);
        }
        50% {
          box-shadow: 0 4px 20px rgba(239, 83, 80, 0.6);
        }
      }
    </style>
  </head>
  <body>
    <!-- Google Tag Manager (noscript) -->
    <noscript
      ><iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-WWD9QCQM"
        height="0"
        width="0"
        style="display: none; visibility: hidden"
      ></iframe
    ></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <header>
      <div class="logo">
        <i class="fa-solid fa-chart-line"></i> The 100 Candles
      </div>
      <div style="display: flex; align-items: center; gap: 10px">
        <div class="scenario-info" id="scenario-title">Loading...</div>
        <button
          class="btn-help"
          onclick="showLeaderboard()"
          title="Leaderboard"
        >
          <i class="fa-solid fa-trophy"></i>
        </button>
        <button class="btn-help" onclick="startTutorial()" title="Help">
          <i class="fa-solid fa-circle-question"></i>
        </button>
      </div>
    </header>

    <div class="dashboard">
      <div class="dash-item">
        <span class="dash-label">Wallet Balance</span>
        <span class="dash-value" id="dash-balance">$10,000</span>
      </div>
      <div class="dash-item" style="text-align: right">
        <div
          style="
            display: flex;
            align-items: center;
            gap: 5px;
            justify-content: flex-end;
          "
        >
          <span class="dash-label">Total Profit (ROI)</span>
          <button
            class="btn-icon-share"
            onclick="shareResult()"
            title="Share PnL"
          >
            <i class="fas fa-share-alt"></i>
          </button>
        </div>
        <span class="dash-value large" id="dash-pnl">$0 (0.00%)</span>
      </div>
      <div class="dash-item">
        <span class="dash-label">Leverage</span>
        <span class="dash-value" id="dash-leverage">10x</span>
      </div>
      <div class="dash-item" style="text-align: right">
        <span class="dash-label">Liq. Price</span>
        <span class="dash-value" id="dash-liq" style="color: var(--accent-red)"
          >-</span
        >
      </div>
    </div>

    <!-- Tools Bar Removed -->

    <div id="error-overlay"></div>

    <div id="chart-container">
      <button
        class="btn-load-context"
        id="btn-load-context"
        onclick="loadContext()"
      >
        ‚óÄ LOAD MORE
      </button>
    </div>
    <div class="toast" id="toast">Drag sliders to set TP/SL</div>

    <div class="controls" id="controls-panel">
      <div class="controls-header" onclick="toggleControls()">
        <span class="controls-title">Trade Settings</span>
        <i class="fa-solid fa-chevron-down" id="controls-toggle-icon"></i>
      </div>

      <div class="controls-content" id="controls-content">
        <!-- Leverage Slider -->
        <div class="leverage-control">
          <div class="slider-header">
            <span class="slider-label">Leverage</span>
            <span class="slider-value" id="leverage-val">10x</span>
          </div>
          <input
            type="range"
            id="leverage-slider"
            min="1"
            max="100"
            step="1"
            value="10"
            oninput="updateLeverage(this.value)"
          />
        </div>

        <!-- Direction Selection -->
        <div class="trade-direction">
          <button
            class="btn-direction active long"
            onclick="setDirection('long')"
          >
            <i class="fa-solid fa-arrow-trend-up"></i> LONG
          </button>
          <button class="btn-direction short" onclick="setDirection('short')">
            <i class="fa-solid fa-arrow-trend-down"></i> SHORT
          </button>
        </div>

        <!-- TP Slider -->
        <div class="slider-group">
          <div class="slider-header">
            <span class="slider-label" style="color: var(--accent-green)"
              >Take Profit</span
            >
            <span class="pnl-preview profit" id="tp-pnl">+$0 (0%)</span>
          </div>
          <div class="input-group">
            <input
              type="range"
              id="tp-slider"
              min="0"
              max="100"
              step="0.1"
              oninput="updateTP(this.value, 'slider')"
            />
            <input
              type="number"
              id="tp-input"
              class="price-input"
              oninput="updateTP(this.value, 'input')"
            />
          </div>
        </div>

        <div class="slider-group">
          <div class="slider-header">
            <span class="slider-label" style="color: var(--accent-red)"
              >Stop Loss</span
            >
            <span class="pnl-preview loss" id="sl-pnl">-$0 (0%)</span>
          </div>
          <div class="input-group">
            <input
              type="range"
              id="sl-slider"
              min="0"
              max="100"
              step="0.1"
              oninput="updateSL(this.value, 'slider')"
            />
            <input
              type="number"
              id="sl-input"
              class="price-input"
              oninput="updateSL(this.value, 'input')"
            />
          </div>
        </div>
      </div>

      <div id="live-pnl-container">
        <div id="live-pnl" class="live-pnl-value">$0</div>
      </div>

      <button
        class="btn-skip-candle"
        id="btn-skip-candle"
        onclick="skipCandle()"
      >
        ‚è© NEXT CANDLE
      </button>

      <button class="btn-start" id="btn-start" onclick="startGame()">
        START TRADING
      </button>
    </div>

    <!-- Result Modal -->
    <div class="modal-overlay" id="result-modal">
      <div class="modal">
        <div class="result-icon" id="result-icon">üèÜ</div>
        <div class="result-title" id="result-title">WIN</div>
        <div class="result-amount" id="result-amount">+$1,200</div>
        <p class="result-desc" id="result-desc">
          You're in the top 5% of traders! With these skills, you can start
          making profits right now.
        </p>
        <a href="#" class="btn-cta" id="referral-link" target="_blank"
          >Start Real Trading</a
        >
        <button
          class="btn-cta"
          id="btn-submit-leaderboard"
          onclick="openSubmitLeaderboard()"
          style="
            background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);
            color: #000;
            margin-top: 10px;
            display: none;
          "
        >
          üèÜ Submit to Leaderboard
        </button>
        <button class="btn-cta btn-retry" onclick="resetGame()">
          Try Next Scenario
        </button>
      </div>
    </div>

    <!-- Ad Modal (Bankruptcy) -->
    <div class="modal-overlay" id="ad-modal">
      <div class="modal">
        <div class="result-icon">üí∏</div>
        <div class="result-title" style="color: var(--accent-red)">
          BANKRUPT!
        </div>
        <p class="result-desc">
          In real trading, you would have lost $10,000. Fortunately, this was
          just practice. Get a $30,000 exchange bonus and recover risk-free.
        </p>

        <a
          href="https://www.bybit.com/invite?ref=JAKO2W"
          target="_blank"
          class="btn-cta"
          onclick="enableClaim()"
        >
          Get Free Airdrop
        </a>

        <button
          class="btn-cta"
          id="btn-claim-reward"
          onclick="claimReward()"
          disabled
          style="background: #404040; color: #787b86; cursor: not-allowed"
        >
          üí∞ Claim $10,000 Demo Funds
        </button>
      </div>
    </div>

    <!-- Leaderboard Modal -->
    <div class="modal-overlay" id="leaderboard-modal" style="z-index: 200">
      <div
        class="modal"
        style="max-width: 600px; max-height: 80vh; overflow-y: auto"
      >
        <div
          style="
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
          "
        >
          <div class="result-title" style="margin: 0">üèÜ Leaderboard</div>
          <button
            class="btn-help"
            onclick="closeLeaderboard()"
            style="
              background: transparent;
              border: none;
              font-size: 1.5rem;
              cursor: pointer;
              color: var(--text-color);
            "
          >
            <i class="fa-solid fa-times"></i>
          </button>
        </div>
        <div id="leaderboard-content" style="min-height: 200px">
          <div style="text-align: center; padding: 40px; color: #787b86">
            Loading leaderboard...
          </div>
        </div>
        <button
          class="btn-cta"
          onclick="closeLeaderboard()"
          style="margin-top: 20px"
        >
          Close
        </button>
      </div>
    </div>

    <!-- Submit to Leaderboard Modal -->
    <div
      class="modal-overlay"
      id="submit-leaderboard-modal"
      style="z-index: 300"
    >
      <div class="modal" style="max-width: 400px">
        <div class="result-icon">üéØ</div>
        <div class="result-title">Submit to Leaderboard</div>
        <p class="result-desc" style="margin-bottom: 20px">
          Enter your nickname to submit your score to the leaderboard!
        </p>
        <input
          type="text"
          id="nickname-input"
          placeholder="Enter nickname (max 20 characters)"
          maxlength="20"
          style="
            width: 100%;
            padding: 12px;
            background: var(--panel-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-color);
            font-size: 1rem;
            margin-bottom: 15px;
            box-sizing: border-box;
          "
        />
        <div style="display: flex; gap: 10px">
          <button
            class="btn-cta"
            onclick="submitToLeaderboard()"
            style="flex: 1"
          >
            Submit
          </button>
          <button
            class="btn-cta"
            onclick="closeSubmitLeaderboard()"
            style="flex: 1; background: #404040"
          >
            Cancel
          </button>
        </div>
      </div>
    </div>

    <!-- Driver.js -->
    <script src="https://cdn.jsdelivr.net/npm/driver.js@1.0.1/dist/driver.js.iife.js"></script>
    <!-- html2canvas -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <style>
      /* Share Card Styles */
      #share-card {
        position: fixed;
        top: -9999px;
        left: -9999px;
        width: 400px;
        height: 600px;
        background: linear-gradient(135deg, #000000 0%, #1a1a1a 100%);
        border: 4px solid #ffd700;
        border-radius: 20px;
        padding: 40px 30px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: space-between;
        color: #d1d4dc;
        font-family: "Roboto", sans-serif;
        z-index: 10000;
        box-shadow: 0 0 50px rgba(255, 215, 0, 0.2);
      }

      .share-header {
        text-align: center;
        width: 100%;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        padding-bottom: 20px;
      }

      .share-logo {
        font-size: 24px;
        font-weight: 900;
        color: #fff;
        letter-spacing: 2px;
        margin-bottom: 5px;
        text-transform: uppercase;
      }

      .share-main {
        flex: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        width: 100%;
      }

      .share-icon {
        font-size: 80px;
        color: #ffd700;
        margin-bottom: 20px;
        filter: drop-shadow(0 0 20px rgba(255, 215, 0, 0.4));
        animation: float 3s ease-in-out infinite;
      }

      @keyframes float {
        0% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-10px);
        }
        100% {
          transform: translateY(0px);
        }
      }

      .share-label {
        font-size: 16px;
        color: #787b86;
        text-transform: uppercase;
        letter-spacing: 1px;
        margin-bottom: 10px;
      }

      .share-roi-value {
        font-size: 64px;
        font-weight: 900;
        color: #ffd700;
        text-shadow: 0 0 30px rgba(255, 215, 0, 0.3);
        line-height: 1;
        margin-bottom: 10px;
      }

      .share-pnl-value {
        font-size: 24px;
        font-weight: 700;
        color: #fff;
        margin-bottom: 30px;
      }
      .share-pnl-value.profit {
        color: #26a69a;
      }
      .share-pnl-value.loss {
        color: #ef5350;
      }

      .share-stats-row {
        display: flex;
        justify-content: space-around;
        width: 100%;
        background: rgba(255, 255, 255, 0.05);
        border-radius: 12px;
        padding: 15px;
      }

      .share-stat-item {
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .share-stat-label {
        font-size: 12px;
        color: #787b86;
        margin-bottom: 4px;
      }

      .share-stat-val {
        font-size: 16px;
        font-weight: 700;
        color: #fff;
      }

      .share-footer {
        text-align: center;
        margin-top: 20px;
        font-size: 14px;
        color: #555;
        width: 100%;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        padding-top: 15px;
      }

      .btn-share {
        background-color: #2962ff;
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 5px;
        font-size: 16px;
        font-weight: bold;
        cursor: pointer;
        margin-top: 10px;
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        transition: background-color 0.2s;
      }

      .btn-share:hover {
        background-color: #1e54eb;
      }
    </style>

    <!-- Hidden Share Card -->
    <!-- Hidden Share Card -->
    <div id="share-card">
      <div class="share-header">
        <div class="share-logo">
          <i class="fas fa-chart-line"></i> The 100 Candles
        </div>
        <div style="font-size: 12px; color: #787b86; letter-spacing: 2px">
          TRADING REPORT
        </div>
      </div>

      <div class="share-main">
        <div class="share-icon">üöÄ</div>
        <div class="share-label">TOTAL ACCOUNT GROWTH</div>
        <div id="share-roi" class="share-roi-value">+0.0%</div>
        <div id="share-pnl" class="share-pnl-value">$0</div>
      </div>

      <div class="share-stats-row">
        <div class="share-stat-item">
          <span class="share-stat-label">BALANCE</span>
          <span id="share-balance" class="share-stat-val">$10,000</span>
        </div>
        <div class="share-stat-item">
          <span class="share-stat-label">LEVERAGE</span>
          <span id="share-leverage" class="share-stat-val">10x</span>
        </div>
      </div>

      <div class="share-footer">
        <p>Can you beat my returns?</p>
        <p style="margin-top: 5px; font-weight: bold; color: #fff">
          the100candles.com
        </p>
      </div>
    </div>

    <script>
      // --- Configuration ---
      const REFERRAL_LINK = "https://www.bybit.com/invite?ref=JAKO2W"; // Replace with actual link
      const INITIAL_BALANCE = 10000;
      // Persistence: Load from local storage or default
      let currentBalance =
        parseFloat(localStorage.getItem("chartMasterBalance")) ||
        INITIAL_BALANCE;
      let currentTradePnL = 0; // Live PnL of current trade
      let currentLeverage = 10;

      // --- Error Handling ---
      window.onerror = function (msg, url, lineNo, columnNo, error) {
        const overlay = document.getElementById("error-overlay");
        overlay.style.display = "block";
        overlay.innerHTML += `Error: ${msg} <br> at ${lineNo}:${columnNo} <br> ${
          error ? error.stack : ""
        } <br><br>`;
        return false;
      };

      // --- State ---
      let chart, candleSeries, tpLine, slLine;
      // Drawing state removed
      let currentScenario = null;
      let currentDirection = "long";
      let entryPrice = 0;
      let tpPrice = 0;
      let slPrice = 0;
      let isPlaying = false;
      let animationInterval;
      let futureData = [];
      let currentIndex = 0;

      // Load Context variables
      let contextStartIndex = 0;
      let availableContextCandles = 0;

      // --- Historical Data ---
      const historicalData = [
        {
          time: 1678147200,
          open: 22409.41,
          high: 22557.91,
          low: 21927.0,
          close: 22197.96,
        },
        {
          time: 1678233600,
          open: 22198.56,
          high: 22287.0,
          low: 21580.0,
          close: 21705.44,
        },
        {
          time: 1678320000,
          open: 21704.37,
          high: 21834.99,
          low: 20042.72,
          close: 20362.22,
        },
        {
          time: 1678406400,
          open: 20362.21,
          high: 20367.78,
          low: 19549.09,
          close: 20150.69,
        },
        {
          time: 1678492800,
          open: 20150.69,
          high: 20686.51,
          low: 19765.03,
          close: 20455.73,
        },
        {
          time: 1678579200,
          open: 20455.73,
          high: 22150.0,
          low: 20270.6,
          close: 21997.11,
        },
        {
          time: 1678665600,
          open: 21998.05,
          high: 24500.0,
          low: 21813.88,
          close: 24113.48,
        },
        {
          time: 1678752000,
          open: 24112.27,
          high: 26386.87,
          low: 23976.42,
          close: 24670.41,
        },
        {
          time: 1678838400,
          open: 24670.41,
          high: 25196.97,
          low: 23896.95,
          close: 24285.66,
        },
        {
          time: 1678924800,
          open: 24285.66,
          high: 25167.4,
          low: 24123.0,
          close: 24998.78,
        },
        {
          time: 1679011200,
          open: 24998.78,
          high: 27756.84,
          low: 24890.0,
          close: 27395.13,
        },
        {
          time: 1679097600,
          open: 27395.13,
          high: 27724.85,
          low: 26578.0,
          close: 26907.49,
        },
        {
          time: 1679184000,
          open: 26907.49,
          high: 28390.1,
          low: 26827.22,
          close: 27972.87,
        },
        {
          time: 1679270400,
          open: 27972.87,
          high: 28472.0,
          low: 27124.47,
          close: 27717.01,
        },
        {
          time: 1679356800,
          open: 27717.01,
          high: 28438.55,
          low: 27303.1,
          close: 28105.47,
        },
        {
          time: 1679443200,
          open: 28107.81,
          high: 28868.05,
          low: 26601.8,
          close: 27250.97,
        },
        {
          time: 1679529600,
          open: 27250.97,
          high: 28750.0,
          low: 27105.0,
          close: 28295.41,
        },
        {
          time: 1679616000,
          open: 28295.42,
          high: 28374.3,
          low: 27000.0,
          close: 27454.47,
        },
        {
          time: 1679702400,
          open: 27454.46,
          high: 27787.33,
          low: 27156.09,
          close: 27462.95,
        },
        {
          time: 1679788800,
          open: 27462.96,
          high: 28194.4,
          low: 27417.76,
          close: 27968.05,
        },
        {
          time: 1679875200,
          open: 27968.05,
          high: 28023.86,
          low: 26508.14,
          close: 27124.91,
        },
        {
          time: 1679961600,
          open: 27124.9,
          high: 27520.0,
          low: 26631.78,
          close: 27261.07,
        },
        {
          time: 1680048000,
          open: 27261.06,
          high: 28650.0,
          low: 27240.1,
          close: 28348.6,
        },
        {
          time: 1680134400,
          open: 28348.6,
          high: 29184.68,
          low: 27686.0,
          close: 28028.53,
        },
        {
          time: 1680220800,
          open: 28028.53,
          high: 28656.69,
          low: 27511.71,
          close: 28465.36,
        },
        {
          time: 1680307200,
          open: 28465.36,
          high: 28819.71,
          low: 28220.27,
          close: 28452.73,
        },
        {
          time: 1680393600,
          open: 28452.74,
          high: 28530.0,
          low: 27856.43,
          close: 28171.87,
        },
        {
          time: 1680480000,
          open: 28171.87,
          high: 28500.99,
          low: 27200.24,
          close: 27800.0,
        },
        {
          time: 1680566400,
          open: 27800.0,
          high: 28444.44,
          low: 27662.79,
          close: 28165.47,
        },
        {
          time: 1680652800,
          open: 28165.47,
          high: 28775.0,
          low: 27805.1,
          close: 28170.01,
        },
        {
          time: 1680739200,
          open: 28170.01,
          high: 28182.05,
          low: 27711.0,
          close: 28033.82,
        },
        {
          time: 1680825600,
          open: 28033.83,
          high: 28100.0,
          low: 27766.94,
          close: 27906.33,
        },
        {
          time: 1680912000,
          open: 27906.34,
          high: 28154.99,
          low: 27859.02,
          close: 27938.38,
        },
        {
          time: 1680998400,
          open: 27938.38,
          high: 28530.0,
          low: 27800.0,
          close: 28323.76,
        },
        {
          time: 1681084800,
          open: 28323.76,
          high: 29770.0,
          low: 28170.0,
          close: 29637.34,
        },
        {
          time: 1681171200,
          open: 29637.35,
          high: 30550.0,
          low: 29590.0,
          close: 30200.42,
        },
        {
          time: 1681257600,
          open: 30200.43,
          high: 30486.0,
          low: 29637.4,
          close: 29888.07,
        },
        {
          time: 1681344000,
          open: 29888.07,
          high: 30595.0,
          low: 29854.59,
          close: 30373.84,
        },
        {
          time: 1681430400,
          open: 30373.84,
          high: 31000.0,
          low: 29966.0,
          close: 30466.93,
        },
        {
          time: 1681516800,
          open: 30466.93,
          high: 30595.6,
          low: 30202.0,
          close: 30295.09,
        },
        {
          time: 1681603200,
          open: 30295.1,
          high: 30549.99,
          low: 30120.0,
          close: 30304.65,
        },
        {
          time: 1681689600,
          open: 30304.66,
          high: 30316.06,
          low: 29240.65,
          close: 29430.27,
        },
        {
          time: 1681776000,
          open: 29430.27,
          high: 30485.0,
          low: 29096.78,
          close: 30380.01,
        },
        {
          time: 1681862400,
          open: 30380.01,
          high: 30413.53,
          low: 28520.0,
          close: 28797.1,
        },
        {
          time: 1681948800,
          open: 28797.1,
          high: 29088.3,
          low: 28010.0,
          close: 28243.65,
        },
        {
          time: 1682035200,
          open: 28243.65,
          high: 28374.02,
          low: 27125.0,
          close: 27262.84,
        },
        {
          time: 1682121600,
          open: 27262.84,
          high: 27882.72,
          low: 27140.35,
          close: 27816.85,
        },
        {
          time: 1682208000,
          open: 27816.85,
          high: 27816.85,
          low: 27311.25,
          close: 27590.6,
        },
        {
          time: 1682294400,
          open: 27590.59,
          high: 28000.0,
          low: 26942.82,
          close: 27510.93,
        },
        {
          time: 1682380800,
          open: 27510.93,
          high: 28399.99,
          low: 27192.0,
          close: 28300.79,
        },
        {
          time: 1682467200,
          open: 28300.8,
          high: 30036.0,
          low: 27235.0,
          close: 28415.29,
        },
        {
          time: 1682553600,
          open: 28415.29,
          high: 29890.0,
          low: 28378.86,
          close: 29472.77,
        },
        {
          time: 1682640000,
          open: 29472.77,
          high: 29599.54,
          low: 28891.0,
          close: 29311.7,
        },
        {
          time: 1682726400,
          open: 29311.69,
          high: 29448.88,
          low: 29031.0,
          close: 29230.45,
        },
        {
          time: 1682812800,
          open: 29230.45,
          high: 29969.39,
          low: 29079.59,
          close: 29233.21,
        },
        {
          time: 1682899200,
          open: 29233.2,
          high: 29337.34,
          low: 27666.95,
          close: 28068.26,
        },
        {
          time: 1682985600,
          open: 28068.26,
          high: 28879.88,
          low: 27872.0,
          close: 28669.86,
        },
        {
          time: 1683072000,
          open: 28669.85,
          high: 29266.66,
          low: 28113.69,
          close: 29026.16,
        },
        {
          time: 1683158400,
          open: 29026.16,
          high: 29379.83,
          low: 28663.64,
          close: 28838.16,
        },
        {
          time: 1683244800,
          open: 28838.16,
          high: 29677.0,
          low: 28800.0,
          close: 29505.61,
        },
        {
          time: 1683331200,
          open: 29505.6,
          high: 29820.0,
          low: 28300.0,
          close: 28848.2,
        },
        {
          time: 1683417600,
          open: 28848.19,
          high: 29138.29,
          low: 28395.23,
          close: 28430.1,
        },
        {
          time: 1683504000,
          open: 28430.09,
          high: 28631.01,
          low: 27262.0,
          close: 27668.79,
        },
        {
          time: 1683590400,
          open: 27668.8,
          high: 27818.0,
          low: 27353.0,
          close: 27628.27,
        },
        {
          time: 1683676800,
          open: 27628.28,
          high: 28331.42,
          low: 26777.0,
          close: 27598.75,
        },
        {
          time: 1683763200,
          open: 27598.74,
          high: 27630.14,
          low: 26702.05,
          close: 26968.62,
        },
        {
          time: 1683849600,
          open: 26968.61,
          high: 27091.12,
          low: 25811.46,
          close: 26795.01,
        },
        {
          time: 1683936000,
          open: 26795.01,
          high: 27045.45,
          low: 26692.03,
          close: 26775.28,
        },
        {
          time: 1684022400,
          open: 26775.27,
          high: 27200.0,
          low: 26560.53,
          close: 26917.62,
        },
        {
          time: 1684108800,
          open: 26917.61,
          high: 27663.59,
          low: 26726.0,
          close: 27162.14,
        },
        {
          time: 1684195200,
          open: 27162.15,
          high: 27296.89,
          low: 26852.11,
          close: 27033.84,
        },
        {
          time: 1684281600,
          open: 27033.85,
          high: 27500.0,
          low: 26544.71,
          close: 27405.61,
        },
        {
          time: 1684368000,
          open: 27405.62,
          high: 27485.33,
          low: 26361.2,
          close: 26821.28,
        },
        {
          time: 1684454400,
          open: 26821.28,
          high: 27183.6,
          low: 26630.0,
          close: 26880.26,
        },
        {
          time: 1684540800,
          open: 26880.26,
          high: 27150.0,
          low: 26825.11,
          close: 27102.43,
        },
        {
          time: 1684627200,
          open: 27102.42,
          high: 27277.55,
          low: 26666.03,
          close: 26747.78,
        },
        {
          time: 1684713600,
          open: 26747.78,
          high: 27099.89,
          low: 26538.21,
          close: 26849.27,
        },
        {
          time: 1684800000,
          open: 26849.28,
          high: 27495.83,
          low: 26798.11,
          close: 27219.61,
        },
        {
          time: 1684886400,
          open: 27219.61,
          high: 27219.61,
          low: 26080.5,
          close: 26329.01,
        },
        {
          time: 1684972800,
          open: 26329.0,
          high: 26631.98,
          low: 25871.89,
          close: 26473.79,
        },
        {
          time: 1685059200,
          open: 26473.8,
          high: 26932.16,
          low: 26327.24,
          close: 26705.92,
        },
        {
          time: 1685145600,
          open: 26705.93,
          high: 26895.0,
          low: 26551.0,
          close: 26854.27,
        },
        {
          time: 1685232000,
          open: 26854.28,
          high: 28261.32,
          low: 26764.36,
          close: 28065.0,
        },
        {
          time: 1685318400,
          open: 28065.01,
          high: 28447.14,
          low: 27524.6,
          close: 27736.4,
        },
        {
          time: 1685404800,
          open: 27736.39,
          high: 28038.59,
          low: 27554.0,
          close: 27694.4,
        },
        {
          time: 1685491200,
          open: 27694.39,
          high: 27835.51,
          low: 26839.01,
          close: 27210.35,
        },
        {
          time: 1685577600,
          open: 27210.36,
          high: 27350.0,
          low: 26605.05,
          close: 26817.93,
        },
        {
          time: 1685664000,
          open: 26817.93,
          high: 27300.0,
          low: 26505.0,
          close: 27242.59,
        },
        {
          time: 1685750400,
          open: 27242.59,
          high: 27333.29,
          low: 26914.93,
          close: 27069.22,
        },
        {
          time: 1685836800,
          open: 27069.22,
          high: 27455.02,
          low: 26951.0,
          close: 27115.21,
        },
        {
          time: 1685923200,
          open: 27115.2,
          high: 27129.33,
          low: 25388.0,
          close: 25728.2,
        },
        {
          time: 1686009600,
          open: 25728.2,
          high: 27355.33,
          low: 25351.02,
          close: 27230.08,
        },
        {
          time: 1686096000,
          open: 27230.07,
          high: 27391.77,
          low: 26125.01,
          close: 26339.34,
        },
        {
          time: 1686182400,
          open: 26339.34,
          high: 26810.0,
          low: 26210.0,
          close: 26498.61,
        },
        {
          time: 1686268800,
          open: 26498.62,
          high: 26783.33,
          low: 26269.91,
          close: 26477.81,
        },
        {
          time: 1686355200,
          open: 26477.8,
          high: 26533.87,
          low: 25358.0,
          close: 25841.21,
        },
        {
          time: 1686441600,
          open: 25841.22,
          high: 26206.88,
          low: 25634.7,
          close: 25925.55,
        },
        {
          time: 1686528000,
          open: 25925.54,
          high: 26106.48,
          low: 25602.11,
          close: 25905.19,
        },
        {
          time: 1686614400,
          open: 25905.2,
          high: 26433.21,
          low: 25712.57,
          close: 25934.25,
        },
        {
          time: 1686700800,
          open: 25934.24,
          high: 26098.0,
          low: 24820.56,
          close: 25128.6,
        },
        {
          time: 1686787200,
          open: 25128.6,
          high: 25759.01,
          low: 24800.0,
          close: 25598.49,
        },
        {
          time: 1686873600,
          open: 25598.49,
          high: 26518.0,
          low: 25175.56,
          close: 26345.0,
        },
        {
          time: 1686960000,
          open: 26345.01,
          high: 26839.99,
          low: 26181.0,
          close: 26516.99,
        },
        {
          time: 1687046400,
          open: 26516.99,
          high: 26700.0,
          low: 26255.85,
          close: 26339.97,
        },
        {
          time: 1687132800,
          open: 26339.98,
          high: 27068.09,
          low: 26256.61,
          close: 26844.35,
        },
        {
          time: 1687219200,
          open: 26844.35,
          high: 28402.74,
          low: 26652.0,
          close: 28307.99,
        },
        {
          time: 1687305600,
          open: 28308.0,
          high: 30800.0,
          low: 28257.99,
          close: 29993.89,
        },
        {
          time: 1687392000,
          open: 29993.89,
          high: 30500.0,
          low: 29525.61,
          close: 29884.92,
        },
        {
          time: 1687478400,
          open: 29884.92,
          high: 31431.94,
          low: 29800.0,
          close: 30688.5,
        },
        {
          time: 1687564800,
          open: 30688.51,
          high: 30800.0,
          low: 30250.0,
          close: 30527.43,
        },
        {
          time: 1687651200,
          open: 30527.44,
          high: 31046.01,
          low: 30277.49,
          close: 30462.66,
        },
        {
          time: 1687737600,
          open: 30462.67,
          high: 30666.0,
          low: 29930.0,
          close: 30267.99,
        },
        {
          time: 1687824000,
          open: 30267.99,
          high: 30994.97,
          low: 30226.17,
          close: 30692.44,
        },
        {
          time: 1687910400,
          open: 30692.44,
          high: 30709.74,
          low: 29858.8,
          close: 30077.41,
        },
        {
          time: 1687996800,
          open: 30077.4,
          high: 30843.98,
          low: 30049.98,
          close: 30447.31,
        },
        {
          time: 1688083200,
          open: 30447.31,
          high: 31282.0,
          low: 29500.0,
          close: 30472.0,
        },
        {
          time: 1688169600,
          open: 30471.99,
          high: 30661.6,
          low: 30320.57,
          close: 30585.9,
        },
        {
          time: 1688256000,
          open: 30585.9,
          high: 30791.0,
          low: 30155.0,
          close: 30617.03,
        },
        {
          time: 1688342400,
          open: 30617.02,
          high: 31380.0,
          low: 30570.27,
          close: 31156.2,
        },
        {
          time: 1688428800,
          open: 31156.2,
          high: 31350.69,
          low: 30620.0,
          close: 30766.51,
        },
        {
          time: 1688515200,
          open: 30766.52,
          high: 30878.07,
          low: 30200.0,
          close: 30504.81,
        },
        {
          time: 1688601600,
          open: 30504.8,
          high: 31500.0,
          low: 29850.45,
          close: 29895.43,
        },
        {
          time: 1688688000,
          open: 29895.42,
          high: 30449.0,
          low: 29701.02,
          close: 30344.7,
        },
        {
          time: 1688774400,
          open: 30344.7,
          high: 30386.81,
          low: 30044.47,
          close: 30284.63,
        },
        {
          time: 1688860800,
          open: 30284.63,
          high: 30445.52,
          low: 30061.12,
          close: 30160.71,
        },
        {
          time: 1688947200,
          open: 30160.71,
          high: 31045.78,
          low: 29950.0,
          close: 30411.57,
        },
        {
          time: 1689033600,
          open: 30411.57,
          high: 30813.63,
          low: 30300.0,
          close: 30622.1,
        },
        {
          time: 1689120000,
          open: 30622.1,
          high: 30983.25,
          low: 30210.0,
          close: 30380.0,
        },
        {
          time: 1689206400,
          open: 30380.0,
          high: 31804.2,
          low: 30251.0,
          close: 31454.23,
        },
        {
          time: 1689292800,
          open: 31454.23,
          high: 31630.0,
          low: 29900.0,
          close: 30312.01,
        },
        {
          time: 1689379200,
          open: 30312.0,
          high: 30390.9,
          low: 30200.0,
          close: 30289.52,
        },
        {
          time: 1689465600,
          open: 30289.52,
          high: 30441.46,
          low: 30064.29,
          close: 30231.99,
        },
        {
          time: 1689552000,
          open: 30232.0,
          high: 30336.96,
          low: 29659.2,
          close: 30138.0,
        },
        {
          time: 1689638400,
          open: 30138.01,
          high: 30239.78,
          low: 29512.0,
          close: 29859.13,
        },
        {
          time: 1689724800,
          open: 29859.14,
          high: 30189.09,
          low: 29761.96,
          close: 29909.21,
        },
        {
          time: 1689811200,
          open: 29909.21,
          high: 30417.46,
          low: 29570.96,
          close: 29800.0,
        },
        {
          time: 1689897600,
          open: 29800.0,
          high: 30061.7,
          low: 29726.34,
          close: 29901.72,
        },
        {
          time: 1689984000,
          open: 29901.72,
          high: 29999.0,
          low: 29625.1,
          close: 29794.0,
        },
        {
          time: 1690070400,
          open: 29793.99,
          high: 30350.0,
          low: 29730.0,
          close: 30083.75,
        },
        {
          time: 1690156800,
          open: 30083.75,
          high: 30099.58,
          low: 28861.9,
          close: 29176.5,
        },
        {
          time: 1690243200,
          open: 29176.5,
          high: 29376.0,
          low: 29047.65,
          close: 29228.91,
        },
        {
          time: 1690329600,
          open: 29228.91,
          high: 29690.0,
          low: 29096.94,
          close: 29351.96,
        },
        {
          time: 1690416000,
          open: 29351.95,
          high: 29567.49,
          low: 29083.85,
          close: 29222.78,
        },
        {
          time: 1690502400,
          open: 29222.78,
          high: 29542.22,
          low: 29123.12,
          close: 29314.14,
        },
        {
          time: 1690588800,
          open: 29314.14,
          high: 29406.92,
          low: 29256.18,
          close: 29352.9,
        },
        {
          time: 1690675200,
          open: 29352.9,
          high: 29449.0,
          low: 29033.24,
          close: 29281.09,
        },
        {
          time: 1690761600,
          open: 29281.09,
          high: 29530.0,
          low: 29101.8,
          close: 29232.25,
        },
        {
          time: 1690848000,
          open: 29232.26,
          high: 29739.25,
          low: 28585.7,
          close: 29705.99,
        },
        {
          time: 1690934400,
          open: 29705.99,
          high: 30047.5,
          low: 28927.5,
          close: 29186.01,
        },
        {
          time: 1691020800,
          open: 29186.0,
          high: 29433.33,
          low: 28968.0,
          close: 29193.64,
        },
        {
          time: 1691107200,
          open: 29193.65,
          high: 29333.08,
          low: 28807.54,
          close: 29113.99,
        },
        {
          time: 1691193600,
          open: 29114.0,
          high: 29152.23,
          low: 28978.64,
          close: 29072.13,
        },
        {
          time: 1691280000,
          open: 29072.13,
          high: 29205.09,
          low: 28991.88,
          close: 29088.42,
        },
        {
          time: 1691366400,
          open: 29088.43,
          high: 29276.78,
          low: 28701.03,
          close: 29211.06,
        },
        {
          time: 1691452800,
          open: 29211.06,
          high: 30244.0,
          low: 29146.45,
          close: 29770.42,
        },
        {
          time: 1691539200,
          open: 29770.41,
          high: 30160.0,
          low: 29376.67,
          close: 29581.99,
        },
        {
          time: 1691625600,
          open: 29581.99,
          high: 29738.0,
          low: 29320.2,
          close: 29455.75,
        },
        {
          time: 1691712000,
          open: 29455.76,
          high: 29564.52,
          low: 29252.45,
          close: 29426.03,
        },
        {
          time: 1691798400,
          open: 29426.02,
          high: 29481.35,
          low: 29381.56,
          close: 29430.17,
        },
        {
          time: 1691884800,
          open: 29430.18,
          high: 29474.65,
          low: 29272.32,
          close: 29303.84,
        },
        {
          time: 1691971200,
          open: 29303.85,
          high: 29695.32,
          low: 29102.45,
          close: 29430.93,
        },
        {
          time: 1692057600,
          open: 29430.92,
          high: 29499.26,
          low: 29059.6,
          close: 29200.0,
        },
        {
          time: 1692144000,
          open: 29200.01,
          high: 29259.85,
          low: 28723.08,
          close: 28730.51,
        },
        {
          time: 1692230400,
          open: 28730.51,
          high: 28783.48,
          low: 25166.0,
          close: 26623.41,
        },
        {
          time: 1692316800,
          open: 26623.41,
          high: 26832.6,
          low: 25619.0,
          close: 26054.0,
        },
        {
          time: 1692403200,
          open: 26054.0,
          high: 26281.0,
          low: 25801.09,
          close: 26100.01,
        },
        {
          time: 1692489600,
          open: 26100.01,
          high: 26299.0,
          low: 25971.05,
          close: 26189.99,
        },
        {
          time: 1692576000,
          open: 26190.0,
          high: 26258.42,
          low: 25812.0,
          close: 26126.92,
        },
        {
          time: 1692662400,
          open: 26126.92,
          high: 26139.42,
          low: 25300.0,
          close: 26056.0,
        },
        {
          time: 1692748800,
          open: 26055.99,
          high: 26819.27,
          low: 25812.82,
          close: 26432.72,
        },
        {
          time: 1692835200,
          open: 26432.71,
          high: 26577.87,
          low: 25864.0,
          close: 26180.05,
        },
        {
          time: 1692921600,
          open: 26180.05,
          high: 26314.05,
          low: 25777.15,
          close: 26060.01,
        },
        {
          time: 1693008000,
          open: 26060.0,
          high: 26125.77,
          low: 25985.92,
          close: 26017.37,
        },
        {
          time: 1693094400,
          open: 26017.38,
          high: 26182.23,
          low: 25966.11,
          close: 26101.77,
        },
        {
          time: 1693180800,
          open: 26101.78,
          high: 26253.99,
          low: 25864.5,
          close: 26120.0,
        },
        {
          time: 1693267200,
          open: 26120.0,
          high: 28142.85,
          low: 25922.0,
          close: 27716.34,
        },
        {
          time: 1693353600,
          open: 27716.34,
          high: 27768.57,
          low: 27017.24,
          close: 27299.99,
        },
        {
          time: 1693440000,
          open: 27299.99,
          high: 27587.51,
          low: 25655.01,
          close: 25940.78,
        },
        {
          time: 1693526400,
          open: 25940.77,
          high: 26156.0,
          low: 25333.75,
          close: 25805.05,
        },
        {
          time: 1693612800,
          open: 25805.04,
          high: 25987.5,
          low: 25752.47,
          close: 25869.51,
        },
        {
          time: 1693699200,
          open: 25869.52,
          high: 26135.0,
          low: 25800.0,
          close: 25971.21,
        },
        {
          time: 1693785600,
          open: 25971.21,
          high: 26108.02,
          low: 25631.21,
          close: 25826.02,
        },
        {
          time: 1693872000,
          open: 25826.03,
          high: 25915.49,
          low: 25562.62,
          close: 25792.1,
        },
        {
          time: 1693958400,
          open: 25792.11,
          high: 26040.0,
          low: 25372.51,
          close: 25759.95,
        },
        {
          time: 1694044800,
          open: 25759.95,
          high: 26443.14,
          low: 25615.38,
          close: 26255.0,
        },
        {
          time: 1694131200,
          open: 26255.0,
          high: 26445.5,
          low: 25647.26,
          close: 25910.5,
        },
        {
          time: 1694217600,
          open: 25910.5,
          high: 25945.09,
          low: 25796.64,
          close: 25901.61,
        },
        {
          time: 1694304000,
          open: 25901.6,
          high: 26033.66,
          low: 25570.57,
          close: 25841.61,
        },
        {
          time: 1694390400,
          open: 25841.6,
          high: 25900.69,
          low: 24901.0,
          close: 25162.52,
        },
        {
          time: 1694476800,
          open: 25162.53,
          high: 26567.0,
          low: 25131.48,
          close: 25840.1,
        },
        {
          time: 1694563200,
          open: 25840.1,
          high: 26405.22,
          low: 25764.17,
          close: 26222.0,
        },
        {
          time: 1694649600,
          open: 26222.0,
          high: 26860.49,
          low: 26126.77,
          close: 26522.73,
        },
        {
          time: 1694736000,
          open: 26522.73,
          high: 26888.0,
          low: 26224.0,
          close: 26600.0,
        },
        {
          time: 1694822400,
          open: 26599.99,
          high: 26777.0,
          low: 26445.0,
          close: 26559.67,
        },
        {
          time: 1694908800,
          open: 26559.67,
          high: 26623.25,
          low: 26399.0,
          close: 26527.51,
        },
        {
          time: 1694995200,
          open: 26527.5,
          high: 27409.0,
          low: 26377.35,
          close: 26762.51,
        },
        {
          time: 1695081600,
          open: 26762.5,
          high: 27483.57,
          low: 26667.79,
          close: 27210.26,
        },
        {
          time: 1695168000,
          open: 27210.25,
          high: 27388.63,
          low: 26800.0,
          close: 27125.0,
        },
        {
          time: 1695254400,
          open: 27125.01,
          high: 27159.6,
          low: 26377.7,
          close: 26568.08,
        },
        {
          time: 1695340800,
          open: 26568.08,
          high: 26743.38,
          low: 26468.77,
          close: 26580.14,
        },
        {
          time: 1695427200,
          open: 26580.14,
          high: 26632.81,
          low: 26509.0,
          close: 26575.96,
        },
        {
          time: 1695513600,
          open: 26575.97,
          high: 26738.54,
          low: 26122.08,
          close: 26248.38,
        },
        {
          time: 1695600000,
          open: 26248.39,
          high: 26446.15,
          low: 25990.46,
          close: 26304.81,
        },
        {
          time: 1695686400,
          open: 26304.8,
          high: 26397.46,
          low: 26088.34,
          close: 26221.67,
        },
        {
          time: 1695772800,
          open: 26221.68,
          high: 26850.0,
          low: 26112.06,
          close: 26372.99,
        },
        {
          time: 1695859200,
          open: 26373.0,
          high: 27308.48,
          low: 26342.4,
          close: 27021.39,
        },
        {
          time: 1695945600,
          open: 27021.39,
          high: 27244.89,
          low: 26665.16,
          close: 26906.96,
        },
        {
          time: 1696032000,
          open: 26906.96,
          high: 27094.99,
          low: 26886.31,
          close: 26962.56,
        },
        {
          time: 1696118400,
          open: 26962.57,
          high: 28065.51,
          low: 26954.09,
          close: 27992.57,
        },
        {
          time: 1696204800,
          open: 27992.58,
          high: 28580.0,
          low: 27281.44,
          close: 27494.51,
        },
        {
          time: 1696291200,
          open: 27494.51,
          high: 27676.52,
          low: 27160.5,
          close: 27426.46,
        },
        {
          time: 1696377600,
          open: 27426.45,
          high: 27839.72,
          low: 27202.0,
          close: 27778.57,
        },
        {
          time: 1696464000,
          open: 27778.57,
          high: 28120.39,
          low: 27352.0,
          close: 27410.39,
        },
        {
          time: 1696550400,
          open: 27410.39,
          high: 28295.0,
          low: 27175.94,
          close: 27931.09,
        },
        {
          time: 1696636800,
          open: 27931.1,
          high: 28029.67,
          low: 27842.08,
          close: 27956.67,
        },
        {
          time: 1696723200,
          open: 27956.67,
          high: 28095.14,
          low: 27687.5,
          close: 27917.05,
        },
        {
          time: 1696809600,
          open: 27917.06,
          high: 27987.93,
          low: 27260.0,
          close: 27590.12,
        },
        {
          time: 1696896000,
          open: 27590.12,
          high: 27735.0,
          low: 27298.0,
          close: 27390.12,
        },
        {
          time: 1696982400,
          open: 27390.12,
          high: 27477.39,
          low: 26538.66,
          close: 26875.52,
        },
        {
          time: 1697068800,
          open: 26875.52,
          high: 26947.04,
          low: 26555.0,
          close: 26759.63,
        },
        {
          time: 1697155200,
          open: 26759.63,
          high: 27130.0,
          low: 26685.0,
          close: 26862.0,
        },
        {
          time: 1697241600,
          open: 26862.0,
          high: 26989.58,
          low: 26789.0,
          close: 26852.48,
        },
        {
          time: 1697328000,
          open: 26852.48,
          high: 27293.33,
          low: 26808.25,
          close: 27154.15,
        },
        {
          time: 1697414400,
          open: 27154.14,
          high: 30000.0,
          low: 27112.66,
          close: 28500.78,
        },
        {
          time: 1697500800,
          open: 28500.77,
          high: 28613.65,
          low: 28069.32,
          close: 28395.91,
        },
        {
          time: 1697587200,
          open: 28395.91,
          high: 28982.36,
          low: 28142.87,
          close: 28320.0,
        },
        {
          time: 1697673600,
          open: 28320.0,
          high: 28916.89,
          low: 28100.66,
          close: 28713.71,
        },
        {
          time: 1697760000,
          open: 28713.71,
          high: 30207.55,
          low: 28578.29,
          close: 29669.04,
        },
        {
          time: 1697846400,
          open: 29669.05,
          high: 30379.99,
          low: 29464.77,
          close: 29909.8,
        },
        {
          time: 1697932800,
          open: 29909.8,
          high: 30248.0,
          low: 29640.0,
          close: 29992.46,
        },
        {
          time: 1698019200,
          open: 29992.46,
          high: 34741.91,
          low: 29883.6,
          close: 33069.99,
        },
        {
          time: 1698105600,
          open: 33069.99,
          high: 35280.0,
          low: 32832.34,
          close: 33922.73,
        },
        {
          time: 1698192000,
          open: 33922.73,
          high: 35132.85,
          low: 33679.05,
          close: 34496.05,
        },
        {
          time: 1698278400,
          open: 34496.05,
          high: 34824.13,
          low: 33751.0,
          close: 34151.66,
        },
        {
          time: 1698364800,
          open: 34151.66,
          high: 34245.0,
          low: 33390.95,
          close: 33892.02,
        },
        {
          time: 1698451200,
          open: 33892.01,
          high: 34493.33,
          low: 33860.0,
          close: 34081.0,
        },
        {
          time: 1698537600,
          open: 34081.01,
          high: 34750.11,
          low: 33930.0,
          close: 34525.89,
        },
        {
          time: 1698624000,
          open: 34525.88,
          high: 34856.0,
          low: 34062.84,
          close: 34474.73,
        },
        {
          time: 1698710400,
          open: 34474.74,
          high: 34720.49,
          low: 34025.0,
          close: 34639.77,
        },
        {
          time: 1698796800,
          open: 34639.78,
          high: 35582.0,
          low: 34097.39,
          close: 35421.43,
        },
        {
          time: 1698883200,
          open: 35421.43,
          high: 35984.99,
          low: 34300.0,
          close: 34941.59,
        },
        {
          time: 1698969600,
          open: 34941.58,
          high: 34946.5,
          low: 34120.0,
          close: 34716.78,
        },
        {
          time: 1699056000,
          open: 34716.78,
          high: 35255.0,
          low: 34585.18,
          close: 35062.07,
        },
        {
          time: 1699142400,
          open: 35062.06,
          high: 35380.0,
          low: 34448.0,
          close: 35011.88,
        },
        {
          time: 1699228800,
          open: 35011.89,
          high: 35276.33,
          low: 34725.9,
          close: 35046.09,
        },
        {
          time: 1699315200,
          open: 35046.09,
          high: 35888.0,
          low: 34523.06,
          close: 35399.12,
        },
        {
          time: 1699401600,
          open: 35399.13,
          high: 36106.0,
          low: 35100.0,
          close: 35624.72,
        },
        {
          time: 1699488000,
          open: 35624.72,
          high: 37972.24,
          low: 35534.05,
          close: 36701.09,
        },
        {
          time: 1699574400,
          open: 36701.1,
          high: 37526.0,
          low: 36324.71,
          close: 37301.63,
        },
        {
          time: 1699660800,
          open: 37301.63,
          high: 37408.26,
          low: 36666.93,
          close: 37130.0,
        },
        {
          time: 1699747200,
          open: 37129.99,
          high: 37222.22,
          low: 36731.1,
          close: 37064.13,
        },
        {
          time: 1699833600,
          open: 37064.13,
          high: 37417.99,
          low: 36333.0,
          close: 36462.93,
        },
        {
          time: 1699920000,
          open: 36462.93,
          high: 36744.0,
          low: 34800.0,
          close: 35551.19,
        },
        {
          time: 1700006400,
          open: 35551.2,
          high: 37980.0,
          low: 35360.0,
          close: 37858.2,
        },
        {
          time: 1700092800,
          open: 37858.2,
          high: 37929.54,
          low: 35500.0,
          close: 36163.51,
        },
        {
          time: 1700179200,
          open: 36163.51,
          high: 36800.0,
          low: 35861.1,
          close: 36613.92,
        },
        {
          time: 1700265600,
          open: 36613.91,
          high: 36845.49,
          low: 36178.58,
          close: 36568.1,
        },
        {
          time: 1700352000,
          open: 36568.11,
          high: 37500.0,
          low: 36384.02,
          close: 37359.86,
        },
        {
          time: 1700438400,
          open: 37359.85,
          high: 37750.0,
          low: 36677.0,
          close: 37448.78,
        },
        {
          time: 1700524800,
          open: 37448.79,
          high: 37649.44,
          low: 35735.0,
          close: 35741.65,
        },
        {
          time: 1700611200,
          open: 35741.65,
          high: 37861.1,
          low: 35632.01,
          close: 37408.34,
        },
        {
          time: 1700697600,
          open: 37408.35,
          high: 37653.44,
          low: 36870.0,
          close: 37294.28,
        },
        {
          time: 1700784000,
          open: 37294.27,
          high: 38414.0,
          low: 37251.51,
          close: 37713.57,
        },
        {
          time: 1700870400,
          open: 37713.57,
          high: 37888.0,
          low: 37591.1,
          close: 37780.67,
        },
        {
          time: 1700956800,
          open: 37780.67,
          high: 37814.63,
          low: 37150.0,
          close: 37447.43,
        },
        {
          time: 1701043200,
          open: 37447.42,
          high: 37569.23,
          low: 36707.0,
          close: 37242.7,
        },
        {
          time: 1701129600,
          open: 37242.7,
          high: 38377.0,
          low: 36868.41,
          close: 37818.87,
        },
        {
          time: 1701216000,
          open: 37818.88,
          high: 38450.0,
          low: 37570.0,
          close: 37854.64,
        },
        {
          time: 1701302400,
          open: 37854.65,
          high: 38145.85,
          low: 37500.0,
          close: 37723.96,
        },
        {
          time: 1701388800,
          open: 37723.97,
          high: 38999.0,
          low: 37615.86,
          close: 38682.52,
        },
        {
          time: 1701475200,
          open: 38682.51,
          high: 39717.14,
          low: 38641.61,
          close: 39450.35,
        },
        {
          time: 1701561600,
          open: 39450.35,
          high: 40250.0,
          low: 39274.86,
          close: 39972.26,
        },
        {
          time: 1701648000,
          open: 39972.26,
          high: 42420.0,
          low: 39972.26,
          close: 41991.1,
        },
        {
          time: 1701734400,
          open: 41991.1,
          high: 44488.0,
          low: 41414.0,
          close: 44073.32,
        },
        {
          time: 1701820800,
          open: 44073.82,
          high: 44297.21,
          low: 43335.28,
          close: 43762.69,
        },
        {
          time: 1701907200,
          open: 43762.69,
          high: 44047.33,
          low: 42821.1,
          close: 43273.14,
        },
        {
          time: 1701993600,
          open: 43273.15,
          high: 44700.0,
          low: 43081.1,
          close: 44170.99,
        },
        {
          time: 1702080000,
          open: 44171.0,
          high: 44358.02,
          low: 43584.51,
          close: 43713.6,
        },
        {
          time: 1702166400,
          open: 43713.59,
          high: 44049.0,
          low: 43563.0,
          close: 43789.51,
        },
        {
          time: 1702252800,
          open: 43789.5,
          high: 43804.5,
          low: 40222.0,
          close: 41253.4,
        },
        {
          time: 1702339200,
          open: 41253.41,
          high: 42104.12,
          low: 40680.0,
          close: 41492.39,
        },
        {
          time: 1702425600,
          open: 41492.38,
          high: 43475.2,
          low: 40555.0,
          close: 42869.03,
        },
        {
          time: 1702512000,
          open: 42869.03,
          high: 43420.0,
          low: 41400.0,
          close: 43022.26,
        },
        {
          time: 1702598400,
          open: 43022.26,
          high: 43080.81,
          low: 41666.0,
          close: 41940.3,
        },
        {
          time: 1702684800,
          open: 41940.29,
          high: 42724.43,
          low: 41605.0,
          close: 42278.03,
        },
        {
          time: 1702771200,
          open: 42278.02,
          high: 42424.07,
          low: 41252.0,
          close: 41374.65,
        },
        {
          time: 1702857600,
          open: 41374.64,
          high: 42757.81,
          low: 40542.93,
          close: 42657.8,
        },
        {
          time: 1702944000,
          open: 42657.8,
          high: 43497.0,
          low: 41811.1,
          close: 42275.99,
        },
        {
          time: 1703030400,
          open: 42275.99,
          high: 44283.0,
          low: 42206.0,
          close: 43668.93,
        },
        {
          time: 1703116800,
          open: 43668.92,
          high: 44242.35,
          low: 43286.72,
          close: 43861.8,
        },
        {
          time: 1703203200,
          open: 43861.79,
          high: 44398.26,
          low: 43412.54,
          close: 43969.04,
        },
        {
          time: 1703289600,
          open: 43969.04,
          high: 43988.68,
          low: 43291.1,
          close: 43702.16,
        },
        {
          time: 1703376000,
          open: 43702.15,
          high: 43946.0,
          low: 42500.0,
          close: 42991.5,
        },
        {
          time: 1703462400,
          open: 42991.5,
          high: 43802.32,
          low: 42720.43,
          close: 43576.13,
        },
        {
          time: 1703548800,
          open: 43576.12,
          high: 43592.68,
          low: 41637.6,
          close: 42508.93,
        },
        {
          time: 1703635200,
          open: 42508.93,
          high: 43677.0,
          low: 42098.69,
          close: 43428.85,
        },
        {
          time: 1703721600,
          open: 43428.86,
          high: 43787.57,
          low: 42241.79,
          close: 42563.76,
        },
        {
          time: 1703808000,
          open: 42563.76,
          high: 43111.0,
          low: 41300.0,
          close: 42066.95,
        },
        {
          time: 1703894400,
          open: 42066.94,
          high: 42612.32,
          low: 41520.3,
          close: 42140.28,
        },
        {
          time: 1703980800,
          open: 42140.29,
          high: 42899.0,
          low: 41965.84,
          close: 42283.58,
        },
        {
          time: 1704067200,
          open: 42283.58,
          high: 44184.1,
          low: 42180.77,
          close: 44179.55,
        },
        {
          time: 1704153600,
          open: 44179.55,
          high: 45879.63,
          low: 44148.34,
          close: 44946.91,
        },
        {
          time: 1704240000,
          open: 44946.91,
          high: 45500.0,
          low: 40750.0,
          close: 42845.23,
        },
        {
          time: 1704326400,
          open: 42845.23,
          high: 44729.58,
          low: 42613.77,
          close: 44151.1,
        },
        {
          time: 1704412800,
          open: 44151.1,
          high: 44357.46,
          low: 42450.0,
          close: 44145.11,
        },
        {
          time: 1704499200,
          open: 44145.12,
          high: 44214.42,
          low: 43397.05,
          close: 43968.32,
        },
        {
          time: 1704585600,
          open: 43968.32,
          high: 44480.59,
          low: 43572.09,
          close: 43929.02,
        },
        {
          time: 1704672000,
          open: 43929.01,
          high: 47248.99,
          low: 43175.0,
          close: 46951.04,
        },
        {
          time: 1704758400,
          open: 46951.04,
          high: 47972.0,
          low: 44748.67,
          close: 46110.0,
        },
        {
          time: 1704844800,
          open: 46110.0,
          high: 47695.93,
          low: 44300.36,
          close: 46653.99,
        },
        {
          time: 1704931200,
          open: 46654.0,
          high: 48969.48,
          low: 45606.06,
          close: 46339.16,
        },
        {
          time: 1705017600,
          open: 46339.16,
          high: 46515.53,
          low: 41500.0,
          close: 42782.73,
        },
        {
          time: 1705104000,
          open: 42782.74,
          high: 43257.0,
          low: 42436.12,
          close: 42847.99,
        },
        {
          time: 1705190400,
          open: 42847.99,
          high: 43079.0,
          low: 41720.0,
          close: 41732.35,
        },
        {
          time: 1705276800,
          open: 41732.35,
          high: 43400.43,
          low: 41718.05,
          close: 42511.1,
        },
        {
          time: 1705363200,
          open: 42511.1,
          high: 43578.01,
          low: 42050.0,
          close: 43137.95,
        },
        {
          time: 1705449600,
          open: 43137.94,
          high: 43198.0,
          low: 42200.69,
          close: 42776.1,
        },
        {
          time: 1705536000,
          open: 42776.09,
          high: 42930.0,
          low: 40683.28,
          close: 41327.5,
        },
        {
          time: 1705622400,
          open: 41327.51,
          high: 42196.86,
          low: 40280.0,
          close: 41659.03,
        },
        {
          time: 1705708800,
          open: 41659.03,
          high: 41872.56,
          low: 41456.3,
          close: 41696.04,
        },
        {
          time: 1705795200,
          open: 41696.05,
          high: 41881.39,
          low: 41500.98,
          close: 41580.33,
        },
        {
          time: 1705881600,
          open: 41580.32,
          high: 41689.65,
          low: 39431.58,
          close: 39568.02,
        },
        {
          time: 1705968000,
          open: 39568.02,
          high: 40176.74,
          low: 38555.0,
          close: 39897.6,
        },
        {
          time: 1706054400,
          open: 39897.59,
          high: 40555.0,
          low: 39484.19,
          close: 40084.88,
        },
        {
          time: 1706140800,
          open: 40084.89,
          high: 40300.24,
          low: 39550.0,
          close: 39961.09,
        },
        {
          time: 1706227200,
          open: 39961.09,
          high: 42246.82,
          low: 39822.52,
          close: 41823.51,
        },
        {
          time: 1706313600,
          open: 41823.51,
          high: 42200.0,
          low: 41394.34,
          close: 42120.63,
        },
        {
          time: 1706400000,
          open: 42120.63,
          high: 42842.68,
          low: 41620.81,
          close: 42031.06,
        },
        {
          time: 1706486400,
          open: 42031.05,
          high: 43333.0,
          low: 41804.88,
          close: 43302.7,
        },
        {
          time: 1706572800,
          open: 43302.71,
          high: 43882.36,
          low: 42683.99,
          close: 42941.1,
        },
        {
          time: 1706659200,
          open: 42941.1,
          high: 43745.11,
          low: 42276.84,
          close: 42580.0,
        },
        {
          time: 1706745600,
          open: 42580.0,
          high: 43285.13,
          low: 41884.28,
          close: 43082.94,
        },
        {
          time: 1706832000,
          open: 43082.95,
          high: 43488.0,
          low: 42546.79,
          close: 43200.0,
        },
        {
          time: 1706918400,
          open: 43199.99,
          high: 43380.01,
          low: 42880.0,
          close: 43011.09,
        },
        {
          time: 1707004800,
          open: 43011.1,
          high: 43119.04,
          low: 42222.0,
          close: 42582.88,
        },
        {
          time: 1707091200,
          open: 42582.88,
          high: 43569.76,
          low: 42258.1,
          close: 42708.7,
        },
        {
          time: 1707177600,
          open: 42708.7,
          high: 43399.98,
          low: 42574.0,
          close: 43098.95,
        },
        {
          time: 1707264000,
          open: 43098.96,
          high: 44396.5,
          low: 42788.0,
          close: 44349.6,
        },
        {
          time: 1707350400,
          open: 44349.6,
          high: 45614.3,
          low: 44331.1,
          close: 45288.65,
        },
        {
          time: 1707436800,
          open: 45288.66,
          high: 48200.0,
          low: 45242.12,
          close: 47132.77,
        },
        {
          time: 1707523200,
          open: 47132.78,
          high: 48170.0,
          low: 46800.0,
          close: 47751.09,
        },
        {
          time: 1707609600,
          open: 47751.08,
          high: 48592.66,
          low: 47557.16,
          close: 48299.99,
        },
        {
          time: 1707696000,
          open: 48300.0,
          high: 50334.82,
          low: 47710.01,
          close: 49917.27,
        },
        {
          time: 1707782400,
          open: 49917.28,
          high: 50368.61,
          low: 48300.95,
          close: 49699.59,
        },
        {
          time: 1707868800,
          open: 49699.6,
          high: 52043.71,
          low: 49225.01,
          close: 51795.17,
        },
        {
          time: 1707955200,
          open: 51795.17,
          high: 52816.62,
          low: 51314.0,
          close: 51880.0,
        },
        {
          time: 1708041600,
          open: 51880.01,
          high: 52572.08,
          low: 51566.0,
          close: 52124.11,
        },
        {
          time: 1708128000,
          open: 52124.1,
          high: 52162.82,
          low: 50625.0,
          close: 51642.64,
        },
        {
          time: 1708214400,
          open: 51642.64,
          high: 52377.0,
          low: 51163.28,
          close: 52137.67,
        },
        {
          time: 1708300800,
          open: 52137.68,
          high: 52488.77,
          low: 51677.0,
          close: 51774.73,
        },
        {
          time: 1708387200,
          open: 51774.74,
          high: 52985.0,
          low: 50760.37,
          close: 52258.82,
        },
        {
          time: 1708473600,
          open: 52258.82,
          high: 52366.8,
          low: 50625.0,
          close: 51849.39,
        },
        {
          time: 1708560000,
          open: 51849.38,
          high: 52065.78,
          low: 50940.78,
          close: 51288.42,
        },
        {
          time: 1708646400,
          open: 51288.42,
          high: 51548.54,
          low: 50521.0,
          close: 50744.15,
        },
        {
          time: 1708732800,
          open: 50744.15,
          high: 51698.0,
          low: 50585.0,
          close: 51568.22,
        },
        {
          time: 1708819200,
          open: 51568.21,
          high: 51958.55,
          low: 51279.8,
          close: 51728.85,
        },
        {
          time: 1708905600,
          open: 51728.85,
          high: 54910.0,
          low: 50901.44,
          close: 54476.47,
        },
        {
          time: 1708992000,
          open: 54476.48,
          high: 57588.15,
          low: 54450.13,
          close: 57037.34,
        },
        {
          time: 1709078400,
          open: 57037.35,
          high: 64000.0,
          low: 56691.85,
          close: 62432.1,
        },
        {
          time: 1709164800,
          open: 62432.11,
          high: 63676.35,
          low: 60364.7,
          close: 61130.98,
        },
        {
          time: 1709251200,
          open: 61130.99,
          high: 63114.23,
          low: 60777.0,
          close: 62387.9,
        },
        {
          time: 1709337600,
          open: 62387.9,
          high: 62433.19,
          low: 61561.12,
          close: 61987.28,
        },
        {
          time: 1709424000,
          open: 61987.28,
          high: 63231.88,
          low: 61320.0,
          close: 63113.97,
        },
        {
          time: 1709510400,
          open: 63113.97,
          high: 68499.0,
          low: 62300.0,
          close: 68245.71,
        },
        {
          time: 1709596800,
          open: 68245.71,
          high: 69000.0,
          low: 59005.0,
          close: 63724.01,
        },
        {
          time: 1709683200,
          open: 63724.01,
          high: 67641.1,
          low: 62779.14,
          close: 66074.04,
        },
        {
          time: 1709769600,
          open: 66074.04,
          high: 67980.0,
          low: 65551.0,
          close: 66823.17,
        },
        {
          time: 1709856000,
          open: 66823.18,
          high: 69990.0,
          low: 66082.66,
          close: 68124.19,
        },
        {
          time: 1709942400,
          open: 68124.2,
          high: 68541.1,
          low: 67861.1,
          close: 68313.27,
        },
        {
          time: 1710028800,
          open: 68313.28,
          high: 69887.61,
          low: 68094.75,
          close: 68955.88,
        },
        {
          time: 1710115200,
          open: 68955.88,
          high: 72800.0,
          low: 67024.96,
          close: 72078.1,
        },
        {
          time: 1710201600,
          open: 72078.1,
          high: 73000.0,
          low: 68620.82,
          close: 71452.01,
        },
        {
          time: 1710288000,
          open: 71452.0,
          high: 73650.25,
          low: 71333.31,
          close: 73072.41,
        },
        {
          time: 1710374400,
          open: 73072.4,
          high: 73777.0,
          low: 68555.0,
          close: 71388.94,
        },
        {
          time: 1710460800,
          open: 71388.94,
          high: 72419.71,
          low: 65600.0,
          close: 69499.85,
        },
        {
          time: 1710547200,
          open: 69499.84,
          high: 70043.0,
          low: 64780.0,
          close: 65300.63,
        },
        {
          time: 1710633600,
          open: 65300.64,
          high: 68904.4,
          low: 64533.0,
          close: 68393.48,
        },
        {
          time: 1710720000,
          open: 68393.47,
          high: 68956.0,
          low: 66565.2,
          close: 67609.99,
        },
        {
          time: 1710806400,
          open: 67610.0,
          high: 68124.11,
          low: 61555.0,
          close: 61937.4,
        },
        {
          time: 1710892800,
          open: 61937.41,
          high: 68100.0,
          low: 60775.0,
          close: 67840.51,
        },
        {
          time: 1710979200,
          open: 67840.51,
          high: 68240.47,
          low: 64529.01,
          close: 65501.27,
        },
        {
          time: 1711065600,
          open: 65501.28,
          high: 66649.62,
          low: 62260.0,
          close: 63796.64,
        },
        {
          time: 1711152000,
          open: 63796.64,
          high: 65999.0,
          low: 63000.0,
          close: 63990.01,
        },
        {
          time: 1711238400,
          open: 63990.02,
          high: 67628.69,
          low: 63772.29,
          close: 67209.99,
        },
        {
          time: 1711324800,
          open: 67210.0,
          high: 71150.0,
          low: 66385.06,
          close: 69880.01,
        },
        {
          time: 1711411200,
          open: 69880.0,
          high: 71561.1,
          low: 69280.0,
          close: 69988.0,
        },
        {
          time: 1711497600,
          open: 69987.99,
          high: 71769.54,
          low: 68359.18,
          close: 69469.99,
        },
        {
          time: 1711584000,
          open: 69469.99,
          high: 71552.06,
          low: 68903.62,
          close: 70780.6,
        },
        {
          time: 1711670400,
          open: 70780.6,
          high: 70916.16,
          low: 69009.0,
          close: 69850.54,
        },
        {
          time: 1711756800,
          open: 69850.53,
          high: 70321.1,
          low: 69540.0,
          close: 69582.18,
        },
        {
          time: 1711843200,
          open: 69582.17,
          high: 71366.0,
          low: 69562.99,
          close: 71280.01,
        },
        {
          time: 1711929600,
          open: 71280.0,
          high: 71288.23,
          low: 68062.86,
          close: 69649.8,
        },
        {
          time: 1712016000,
          open: 69649.81,
          high: 69674.23,
          low: 64550.0,
          close: 65463.99,
        },
        {
          time: 1712102400,
          open: 65463.99,
          high: 66903.63,
          low: 64493.07,
          close: 65963.28,
        },
        {
          time: 1712188800,
          open: 65963.27,
          high: 69309.91,
          low: 65064.52,
          close: 68487.79,
        },
        {
          time: 1712275200,
          open: 68487.8,
          high: 68756.67,
          low: 65952.56,
          close: 67820.62,
        },
        {
          time: 1712361600,
          open: 67820.63,
          high: 69692.0,
          low: 67447.83,
          close: 68896.0,
        },
        {
          time: 1712448000,
          open: 68896.0,
          high: 70326.29,
          low: 68824.0,
          close: 69360.39,
        },
        {
          time: 1712534400,
          open: 69360.38,
          high: 72797.99,
          low: 69043.24,
          close: 71620.0,
        },
        {
          time: 1712620800,
          open: 71620.0,
          high: 71758.19,
          low: 68210.0,
          close: 69146.0,
        },
        {
          time: 1712707200,
          open: 69146.0,
          high: 71172.08,
          low: 67518.0,
          close: 70631.08,
        },
        {
          time: 1712793600,
          open: 70631.08,
          high: 71305.89,
          low: 69567.21,
          close: 70006.23,
        },
        {
          time: 1712880000,
          open: 70006.22,
          high: 71227.46,
          low: 65086.86,
          close: 67116.52,
        },
        {
          time: 1712966400,
          open: 67116.52,
          high: 67929.0,
          low: 60660.57,
          close: 63924.51,
        },
        {
          time: 1713052800,
          open: 63924.52,
          high: 65840.0,
          low: 62134.0,
          close: 65661.84,
        },
        {
          time: 1713139200,
          open: 65661.85,
          high: 66867.07,
          low: 62274.4,
          close: 63419.99,
        },
        {
          time: 1713225600,
          open: 63419.99,
          high: 64365.0,
          low: 61600.0,
          close: 63793.39,
        },
        {
          time: 1713312000,
          open: 63793.4,
          high: 64499.0,
          low: 59678.16,
          close: 61277.37,
        },
        {
          time: 1713398400,
          open: 61277.38,
          high: 64117.09,
          low: 60803.35,
          close: 63470.08,
        },
        {
          time: 1713484800,
          open: 63470.09,
          high: 65450.0,
          low: 59600.01,
          close: 63818.01,
        },
        {
          time: 1713571200,
          open: 63818.01,
          high: 65419.0,
          low: 63090.07,
          close: 64940.59,
        },
        {
          time: 1713657600,
          open: 64940.58,
          high: 65695.56,
          low: 64237.5,
          close: 64941.15,
        },
        {
          time: 1713744000,
          open: 64941.15,
          high: 67232.35,
          low: 64500.0,
          close: 66819.32,
        },
        {
          time: 1713830400,
          open: 66819.32,
          high: 67183.01,
          low: 65765.81,
          close: 66414.0,
        },
        {
          time: 1713916800,
          open: 66414.0,
          high: 67070.43,
          low: 63606.06,
          close: 64289.59,
        },
        {
          time: 1714003200,
          open: 64289.58,
          high: 65297.94,
          low: 62794.0,
          close: 64498.34,
        },
        {
          time: 1714089600,
          open: 64498.33,
          high: 64820.01,
          low: 63297.48,
          close: 63770.01,
        },
        {
          time: 1714176000,
          open: 63770.0,
          high: 63923.41,
          low: 62391.24,
          close: 63461.98,
        },
        {
          time: 1714262400,
          open: 63461.98,
          high: 64370.0,
          low: 62781.0,
          close: 63118.62,
        },
        {
          time: 1714348800,
          open: 63118.62,
          high: 64228.35,
          low: 61765.53,
          close: 63866.0,
        },
        {
          time: 1714435200,
          open: 63866.0,
          high: 64734.0,
          low: 59191.6,
          close: 60672.0,
        },
        {
          time: 1714521600,
          open: 60672.01,
          high: 60841.63,
          low: 56552.82,
          close: 58364.97,
        },
        {
          time: 1714608000,
          open: 58364.97,
          high: 59625.0,
          low: 56911.84,
          close: 59060.61,
        },
        {
          time: 1714694400,
          open: 59060.6,
          high: 63333.0,
          low: 58811.32,
          close: 62882.01,
        },
        {
          time: 1714780800,
          open: 62882.01,
          high: 64540.0,
          low: 62541.03,
          close: 63892.04,
        },
        {
          time: 1714867200,
          open: 63892.03,
          high: 64646.0,
          low: 62822.17,
          close: 64012.0,
        },
        {
          time: 1714953600,
          open: 64012.0,
          high: 65500.0,
          low: 62700.0,
          close: 63165.19,
        },
        {
          time: 1715040000,
          open: 63165.18,
          high: 64422.41,
          low: 62261.0,
          close: 62312.08,
        },
        {
          time: 1715126400,
          open: 62312.07,
          high: 63020.22,
          low: 60888.0,
          close: 61193.03,
        },
        {
          time: 1715212800,
          open: 61193.03,
          high: 63429.03,
          low: 60630.0,
          close: 63074.01,
        },
        {
          time: 1715299200,
          open: 63074.0,
          high: 63469.13,
          low: 60187.12,
          close: 60799.99,
        },
        {
          time: 1715385600,
          open: 60799.99,
          high: 61515.0,
          low: 60487.09,
          close: 60825.99,
        },
        {
          time: 1715472000,
          open: 60825.99,
          high: 61888.0,
          low: 60610.0,
          close: 61483.99,
        },
        {
          time: 1715558400,
          open: 61484.0,
          high: 63450.0,
          low: 60749.21,
          close: 62940.08,
        },
        {
          time: 1715644800,
          open: 62940.09,
          high: 63118.36,
          low: 61142.77,
          close: 61577.49,
        },
        {
          time: 1715731200,
          open: 61577.49,
          high: 66444.16,
          low: 61319.47,
          close: 66206.5,
        },
        {
          time: 1715817600,
          open: 66206.51,
          high: 66752.01,
          low: 64602.77,
          close: 65235.21,
        },
        {
          time: 1715904000,
          open: 65235.21,
          high: 67451.2,
          low: 65106.38,
          close: 67024.0,
        },
        {
          time: 1715990400,
          open: 67024.0,
          high: 67400.01,
          low: 66600.0,
          close: 66915.2,
        },
        {
          time: 1716076800,
          open: 66915.2,
          high: 67700.0,
          low: 65857.25,
          close: 66274.01,
        },
        {
          time: 1716163200,
          open: 66274.0,
          high: 71515.56,
          low: 66060.31,
          close: 71446.62,
        },
        {
          time: 1716249600,
          open: 71446.62,
          high: 71979.0,
          low: 69162.94,
          close: 70148.34,
        },
        {
          time: 1716336000,
          open: 70148.34,
          high: 70666.0,
          low: 68842.19,
          close: 69166.62,
        },
        {
          time: 1716422400,
          open: 69166.62,
          high: 70096.12,
          low: 66312.16,
          close: 67969.65,
        },
        {
          time: 1716508800,
          open: 67969.66,
          high: 69250.0,
          low: 66600.12,
          close: 68549.99,
        },
        {
          time: 1716595200,
          open: 68549.99,
          high: 69610.0,
          low: 68500.0,
          close: 69290.57,
        },
        {
          time: 1716681600,
          open: 69290.56,
          high: 69562.23,
          low: 68128.01,
          close: 68507.67,
        },
        {
          time: 1716768000,
          open: 68507.67,
          high: 70687.56,
          low: 68250.0,
          close: 69436.43,
        },
        {
          time: 1716854400,
          open: 69436.43,
          high: 69591.81,
          low: 67277.91,
          close: 68398.39,
        },
        {
          time: 1716940800,
          open: 68398.4,
          high: 68935.68,
          low: 67124.65,
          close: 67652.42,
        },
        {
          time: 1717027200,
          open: 67652.41,
          high: 69500.0,
          low: 67128.0,
          close: 68352.17,
        },
        {
          time: 1717113600,
          open: 68352.17,
          high: 69044.1,
          low: 66670.0,
          close: 67540.01,
        },
        {
          time: 1717200000,
          open: 67540.01,
          high: 67900.0,
          low: 67428.44,
          close: 67766.85,
        },
        {
          time: 1717286400,
          open: 67766.84,
          high: 68460.0,
          low: 67257.47,
          close: 67765.63,
        },
        {
          time: 1717372800,
          open: 67765.62,
          high: 70288.0,
          low: 67612.48,
          close: 68809.9,
        },
        {
          time: 1717459200,
          open: 68809.89,
          high: 71063.45,
          low: 68567.32,
          close: 70537.84,
        },
        {
          time: 1717545600,
          open: 70537.83,
          high: 71758.0,
          low: 70383.66,
          close: 71108.0,
        },
        {
          time: 1717632000,
          open: 71108.0,
          high: 71700.0,
          low: 70117.64,
          close: 70799.06,
        },
        {
          time: 1717718400,
          open: 70799.06,
          high: 71997.02,
          low: 68420.0,
          close: 69355.6,
        },
        {
          time: 1717804800,
          open: 69355.6,
          high: 69582.2,
          low: 69168.02,
          close: 69310.46,
        },
        {
          time: 1717891200,
          open: 69310.46,
          high: 69857.14,
          low: 69130.24,
          close: 69648.14,
        },
        {
          time: 1717977600,
          open: 69648.15,
          high: 70195.94,
          low: 69172.29,
          close: 69540.0,
        },
        {
          time: 1718064000,
          open: 69540.0,
          high: 69590.01,
          low: 66051.0,
          close: 67314.24,
        },
        {
          time: 1718150400,
          open: 67314.23,
          high: 69999.0,
          low: 66905.0,
          close: 68263.99,
        },
        {
          time: 1718236800,
          open: 68263.98,
          high: 68449.3,
          low: 66251.78,
          close: 66773.01,
        },
        {
          time: 1718323200,
          open: 66773.01,
          high: 67370.24,
          low: 65078.0,
          close: 66043.99,
        },
        {
          time: 1718409600,
          open: 66043.99,
          high: 66478.48,
          low: 65857.1,
          close: 66228.25,
        },
        {
          time: 1718496000,
          open: 66228.25,
          high: 66998.7,
          low: 66034.5,
          close: 66676.87,
        },
        {
          time: 1718582400,
          open: 66676.86,
          high: 67298.81,
          low: 65130.0,
          close: 66504.33,
        },
        {
          time: 1718668800,
          open: 66504.33,
          high: 66588.23,
          low: 64060.0,
          close: 65175.32,
        },
        {
          time: 1718755200,
          open: 65175.32,
          high: 65727.54,
          low: 64666.0,
          close: 64974.37,
        },
        {
          time: 1718841600,
          open: 64974.37,
          high: 66482.94,
          low: 64559.15,
          close: 64869.99,
        },
        {
          time: 1718928000,
          open: 64869.99,
          high: 65066.66,
          low: 63379.35,
          close: 64143.56,
        },
        {
          time: 1719014400,
          open: 64143.56,
          high: 64546.81,
          low: 63943.82,
          close: 64262.01,
        },
        {
          time: 1719100800,
          open: 64262.01,
          high: 64521.0,
          low: 63178.32,
          close: 63210.01,
        },
        {
          time: 1719187200,
          open: 63210.01,
          high: 63369.8,
          low: 58402.0,
          close: 60293.3,
        },
        {
          time: 1719273600,
          open: 60293.3,
          high: 62420.0,
          low: 60257.06,
          close: 61806.01,
        },
        {
          time: 1719360000,
          open: 61806.01,
          high: 62487.81,
          low: 60712.0,
          close: 60864.99,
        },
        {
          time: 1719446400,
          open: 60864.98,
          high: 62389.22,
          low: 60606.63,
          close: 61706.47,
        },
        {
          time: 1719532800,
          open: 61706.46,
          high: 62225.31,
          low: 60063.0,
          close: 60427.84,
        },
        {
          time: 1719619200,
          open: 60427.84,
          high: 61224.0,
          low: 60383.77,
          close: 60986.68,
        },
        {
          time: 1719705600,
          open: 60986.68,
          high: 63058.76,
          low: 60712.21,
          close: 62772.01,
        },
        {
          time: 1719792000,
          open: 62772.01,
          high: 63861.76,
          low: 62497.2,
          close: 62899.99,
        },
        {
          time: 1719878400,
          open: 62900.0,
          high: 63288.83,
          low: 61806.28,
          close: 62135.47,
        },
        {
          time: 1719964800,
          open: 62135.46,
          high: 62285.94,
          low: 59400.0,
          close: 60208.58,
        },
        {
          time: 1720051200,
          open: 60208.57,
          high: 60498.19,
          low: 56771.0,
          close: 57050.01,
        },
        {
          time: 1720137600,
          open: 57050.02,
          high: 57546.0,
          low: 53485.93,
          close: 56628.79,
        },
        {
          time: 1720224000,
          open: 56628.79,
          high: 58475.0,
          low: 56018.0,
          close: 58230.13,
        },
        {
          time: 1720310400,
          open: 58230.13,
          high: 58449.46,
          low: 55724.37,
          close: 55857.81,
        },
        {
          time: 1720396800,
          open: 55857.81,
          high: 58236.73,
          low: 54260.16,
          close: 56714.62,
        },
        {
          time: 1720483200,
          open: 56714.61,
          high: 58296.0,
          low: 56289.45,
          close: 58050.0,
        },
        {
          time: 1720569600,
          open: 58050.0,
          high: 59470.0,
          low: 57157.79,
          close: 57725.85,
        },
        {
          time: 1720656000,
          open: 57725.85,
          high: 59650.0,
          low: 57050.0,
          close: 57339.89,
        },
        {
          time: 1720742400,
          open: 57339.89,
          high: 58526.68,
          low: 56542.47,
          close: 57889.1,
        },
        {
          time: 1720828800,
          open: 57889.09,
          high: 59850.0,
          low: 57756.63,
          close: 59204.02,
        },
        {
          time: 1720915200,
          open: 59204.01,
          high: 61420.69,
          low: 59194.01,
          close: 60797.91,
        },
        {
          time: 1721001600,
          open: 60797.91,
          high: 64900.0,
          low: 60632.3,
          close: 64724.14,
        },
        {
          time: 1721088000,
          open: 64724.06,
          high: 65388.97,
          low: 62373.24,
          close: 65043.99,
        },
        {
          time: 1721174400,
          open: 65044.0,
          high: 66128.63,
          low: 63854.0,
          close: 64087.99,
        },
        {
          time: 1721260800,
          open: 64087.99,
          high: 65133.3,
          low: 63238.48,
          close: 63987.92,
        },
        {
          time: 1721347200,
          open: 63987.92,
          high: 67386.0,
          low: 63300.67,
          close: 66660.0,
        },
        {
          time: 1721433600,
          open: 66660.01,
          high: 67598.0,
          low: 66222.46,
          close: 67139.96,
        },
        {
          time: 1721520000,
          open: 67139.97,
          high: 68366.66,
          low: 65777.0,
          close: 68165.34,
        },
        {
          time: 1721606400,
          open: 68165.35,
          high: 68474.55,
          low: 66559.97,
          close: 67532.01,
        },
        {
          time: 1721692800,
          open: 67532.0,
          high: 67750.98,
          low: 65441.08,
          close: 65936.01,
        },
        {
          time: 1721779200,
          open: 65936.0,
          high: 67102.01,
          low: 65111.0,
          close: 65376.0,
        },
        {
          time: 1721865600,
          open: 65376.01,
          high: 66175.49,
          low: 63456.7,
          close: 65799.95,
        },
        {
          time: 1721952000,
          open: 65799.95,
          high: 68200.0,
          low: 65722.63,
          close: 67907.99,
        },
        {
          time: 1722038400,
          open: 67908.0,
          high: 69399.99,
          low: 66650.0,
          close: 67896.5,
        },
        {
          time: 1722124800,
          open: 67896.49,
          high: 68318.43,
          low: 67066.66,
          close: 68249.88,
        },
        {
          time: 1722211200,
          open: 68249.88,
          high: 70079.99,
          low: 66428.0,
          close: 66784.69,
        },
        {
          time: 1722297600,
          open: 66784.68,
          high: 67000.0,
          low: 65302.67,
          close: 66188.0,
        },
        {
          time: 1722384000,
          open: 66188.0,
          high: 66849.24,
          low: 64530.0,
          close: 64628.0,
        },
        {
          time: 1722470400,
          open: 64628.01,
          high: 65659.78,
          low: 62302.0,
          close: 65354.02,
        },
        {
          time: 1722556800,
          open: 65354.02,
          high: 65596.14,
          low: 61230.01,
          close: 61498.33,
        },
        {
          time: 1722643200,
          open: 61498.34,
          high: 62198.22,
          low: 59850.0,
          close: 60697.99,
        },
        {
          time: 1722729600,
          open: 60697.99,
          high: 61117.63,
          low: 57122.77,
          close: 58161.0,
        },
        {
          time: 1722816000,
          open: 58161.0,
          high: 58305.59,
          low: 49000.0,
          close: 54018.81,
        },
        {
          time: 1722902400,
          open: 54018.82,
          high: 57040.99,
          low: 53950.0,
          close: 56022.01,
        },
        {
          time: 1722988800,
          open: 56022.0,
          high: 57736.05,
          low: 54558.62,
          close: 55134.16,
        },
        {
          time: 1723075200,
          open: 55133.76,
          high: 62745.14,
          low: 54730.0,
          close: 61685.99,
        },
        {
          time: 1723161600,
          open: 61686.0,
          high: 61744.37,
          low: 59535.0,
          close: 60837.99,
        },
        {
          time: 1723248000,
          open: 60837.99,
          high: 61470.58,
          low: 60242.0,
          close: 60923.51,
        },
        {
          time: 1723334400,
          open: 60923.51,
          high: 61858.0,
          low: 58286.73,
          close: 58712.59,
        },
        {
          time: 1723420800,
          open: 58712.59,
          high: 60711.09,
          low: 57642.21,
          close: 59346.64,
        },
        {
          time: 1723507200,
          open: 59346.64,
          high: 61578.1,
          low: 58392.88,
          close: 60587.15,
        },
        {
          time: 1723593600,
          open: 60587.16,
          high: 61800.0,
          low: 58433.18,
          close: 58683.39,
        },
        {
          time: 1723680000,
          open: 58683.39,
          high: 59849.38,
          low: 56078.54,
          close: 57541.06,
        },
        {
          time: 1723766400,
          open: 57541.05,
          high: 59817.76,
          low: 57098.62,
          close: 58874.6,
        },
        {
          time: 1723852800,
          open: 58874.59,
          high: 59700.0,
          low: 58785.05,
          close: 59491.99,
        },
        {
          time: 1723939200,
          open: 59491.99,
          high: 60284.99,
          low: 58408.92,
          close: 58427.35,
        },
        {
          time: 1724025600,
          open: 58427.35,
          high: 59617.63,
          low: 57787.3,
          close: 59438.5,
        },
        {
          time: 1724112000,
          open: 59438.5,
          high: 61400.0,
          low: 58548.23,
          close: 59013.8,
        },
        {
          time: 1724198400,
          open: 59013.8,
          high: 61820.93,
          low: 58783.47,
          close: 61156.03,
        },
        {
          time: 1724284800,
          open: 61156.03,
          high: 61400.0,
          low: 59724.87,
          close: 60375.84,
        },
        {
          time: 1724371200,
          open: 60375.83,
          high: 64955.0,
          low: 60342.14,
          close: 64037.24,
        },
        {
          time: 1724457600,
          open: 64037.24,
          high: 64494.5,
          low: 63531.0,
          close: 64157.01,
        },
        {
          time: 1724544000,
          open: 64157.02,
          high: 65000.0,
          low: 63773.27,
          close: 64220.0,
        },
        {
          time: 1724630400,
          open: 64219.99,
          high: 64481.0,
          low: 62800.0,
          close: 62834.0,
        },
        {
          time: 1724716800,
          open: 62834.0,
          high: 63212.0,
          low: 58034.01,
          close: 59415.0,
        },
        {
          time: 1724803200,
          open: 59415.0,
          high: 60234.98,
          low: 57860.0,
          close: 59034.9,
        },
        {
          time: 1724889600,
          open: 59034.9,
          high: 61166.99,
          low: 58713.09,
          close: 59359.01,
        },
        {
          time: 1724976000,
          open: 59359.0,
          high: 59944.07,
          low: 57701.1,
          close: 59123.99,
        },
        {
          time: 1725062400,
          open: 59123.99,
          high: 59462.38,
          low: 58744.0,
          close: 58973.99,
        },
        {
          time: 1725148800,
          open: 58974.0,
          high: 59076.59,
          low: 57201.0,
          close: 57301.86,
        },
        {
          time: 1725235200,
          open: 57301.77,
          high: 59425.69,
          low: 57128.0,
          close: 59132.13,
        },
        {
          time: 1725321600,
          open: 59132.12,
          high: 59809.65,
          low: 57415.0,
          close: 57487.73,
        },
        {
          time: 1725408000,
          open: 57487.74,
          high: 58519.0,
          low: 55606.0,
          close: 57970.9,
        },
        {
          time: 1725494400,
          open: 57970.9,
          high: 58327.07,
          low: 55643.65,
          close: 56180.0,
        },
        {
          time: 1725580800,
          open: 56180.0,
          high: 57008.0,
          low: 52550.0,
          close: 53962.97,
        },
        {
          time: 1725667200,
          open: 53962.97,
          high: 54850.0,
          low: 53745.54,
          close: 54160.86,
        },
        {
          time: 1725753600,
          open: 54160.86,
          high: 55318.0,
          low: 53629.01,
          close: 54869.95,
        },
        {
          time: 1725840000,
          open: 54869.95,
          high: 58088.0,
          low: 54591.96,
          close: 57042.0,
        },
        {
          time: 1725926400,
          open: 57042.01,
          high: 58044.36,
          low: 56386.4,
          close: 57635.99,
        },
        {
          time: 1726012800,
          open: 57635.99,
          high: 57981.71,
          low: 55545.19,
          close: 57338.0,
        },
        {
          time: 1726099200,
          open: 57338.0,
          high: 58588.0,
          low: 57324.0,
          close: 58132.32,
        },
        {
          time: 1726185600,
          open: 58132.31,
          high: 60625.0,
          low: 57632.62,
          close: 60498.0,
        },
        {
          time: 1726272000,
          open: 60497.99,
          high: 60610.45,
          low: 59400.0,
          close: 59993.03,
        },
        {
          time: 1726358400,
          open: 59993.02,
          high: 60395.8,
          low: 58691.05,
          close: 59132.0,
        },
        {
          time: 1726444800,
          open: 59132.0,
          high: 59210.7,
          low: 57493.3,
          close: 58213.99,
        },
        {
          time: 1726531200,
          open: 58213.99,
          high: 61320.0,
          low: 57610.01,
          close: 60313.99,
        },
        {
          time: 1726617600,
          open: 60313.99,
          high: 61786.24,
          low: 59174.8,
          close: 61759.99,
        },
        {
          time: 1726704000,
          open: 61759.98,
          high: 63850.0,
          low: 61555.0,
          close: 62947.99,
        },
        {
          time: 1726790400,
          open: 62948.0,
          high: 64133.32,
          low: 62350.0,
          close: 63201.05,
        },
        {
          time: 1726876800,
          open: 63201.05,
          high: 63559.9,
          low: 62758.0,
          close: 63348.96,
        },
        {
          time: 1726963200,
          open: 63348.97,
          high: 64000.0,
          low: 62357.93,
          close: 63578.76,
        },
        {
          time: 1727049600,
          open: 63578.76,
          high: 64745.88,
          low: 62538.75,
          close: 63339.99,
        },
        {
          time: 1727136000,
          open: 63339.99,
          high: 64688.0,
          low: 62700.0,
          close: 64262.7,
        },
        {
          time: 1727222400,
          open: 64262.7,
          high: 64817.99,
          low: 62947.08,
          close: 63152.01,
        },
        {
          time: 1727308800,
          open: 63152.01,
          high: 65839.0,
          low: 62670.0,
          close: 65173.99,
        },
        {
          time: 1727395200,
          open: 65173.99,
          high: 66498.0,
          low: 64819.9,
          close: 65769.95,
        },
        {
          time: 1727481600,
          open: 65769.95,
          high: 66260.0,
          low: 65422.23,
          close: 65858.0,
        },
        {
          time: 1727568000,
          open: 65858.0,
          high: 66076.12,
          low: 65432.0,
          close: 65602.01,
        },
        {
          time: 1727654400,
          open: 65602.01,
          high: 65618.8,
          low: 62856.3,
          close: 63327.59,
        },
        {
          time: 1727740800,
          open: 63327.6,
          high: 64130.63,
          low: 60164.0,
          close: 60805.78,
        },
        {
          time: 1727827200,
          open: 60804.92,
          high: 62390.31,
          low: 60000.0,
          close: 60649.28,
        },
        {
          time: 1727913600,
          open: 60649.27,
          high: 61477.19,
          low: 59828.11,
          close: 60752.71,
        },
        {
          time: 1728000000,
          open: 60752.72,
          high: 62484.85,
          low: 60459.9,
          close: 62086.0,
        },
        {
          time: 1728086400,
          open: 62086.0,
          high: 62370.56,
          low: 61689.26,
          close: 62058.0,
        },
        {
          time: 1728172800,
          open: 62058.01,
          high: 62975.0,
          low: 61798.97,
          close: 62819.91,
        },
        {
          time: 1728259200,
          open: 62819.91,
          high: 64478.19,
          low: 62128.0,
          close: 62224.0,
        },
        {
          time: 1728345600,
          open: 62224.01,
          high: 63200.0,
          low: 61860.31,
          close: 62160.49,
        },
        {
          time: 1728432000,
          open: 62160.5,
          high: 62543.75,
          low: 60301.0,
          close: 60636.02,
        },
        {
          time: 1728518400,
          open: 60636.01,
          high: 61321.68,
          low: 58946.0,
          close: 60326.39,
        },
        {
          time: 1728604800,
          open: 60326.4,
          high: 63417.56,
          low: 60087.64,
          close: 62540.0,
        },
        {
          time: 1728691200,
          open: 62539.99,
          high: 63480.0,
          low: 62487.23,
          close: 63206.22,
        },
        {
          time: 1728777600,
          open: 63206.23,
          high: 63285.72,
          low: 62050.0,
          close: 62870.02,
        },
        {
          time: 1728864000,
          open: 62870.02,
          high: 66500.0,
          low: 62457.81,
          close: 66083.99,
        },
        {
          time: 1728950400,
          open: 66084.0,
          high: 67950.0,
          low: 64800.01,
          close: 67074.14,
        },
        {
          time: 1729036800,
          open: 67074.14,
          high: 68424.0,
          low: 66750.49,
          close: 67620.01,
        },
        {
          time: 1729123200,
          open: 67620.0,
          high: 67939.4,
          low: 66666.0,
          close: 67421.78,
        },
        {
          time: 1729209600,
          open: 67421.78,
          high: 69000.0,
          low: 67192.36,
          close: 68428.0,
        },
        {
          time: 1729296000,
          open: 68427.99,
          high: 68693.26,
          low: 68010.0,
          close: 68378.0,
        },
        {
          time: 1729382400,
          open: 68377.99,
          high: 69400.0,
          low: 68100.0,
          close: 69031.99,
        },
        {
          time: 1729468800,
          open: 69032.0,
          high: 69519.52,
          low: 66840.67,
          close: 67377.5,
        },
        {
          time: 1729555200,
          open: 67377.5,
          high: 67836.01,
          low: 66571.42,
          close: 67426.0,
        },
        {
          time: 1729641600,
          open: 67426.01,
          high: 67472.83,
          low: 65260.0,
          close: 66668.65,
        },
        {
          time: 1729728000,
          open: 66668.65,
          high: 68850.0,
          low: 66510.0,
          close: 68198.28,
        },
        {
          time: 1729814400,
          open: 68198.27,
          high: 68771.49,
          low: 65596.29,
          close: 66698.33,
        },
        {
          time: 1729900800,
          open: 66698.32,
          high: 67454.55,
          low: 66439.9,
          close: 67092.76,
        },
        {
          time: 1729987200,
          open: 67092.76,
          high: 68332.05,
          low: 66913.73,
          close: 68021.7,
        },
        {
          time: 1730073600,
          open: 68021.69,
          high: 70270.0,
          low: 67618.0,
          close: 69962.21,
        },
        {
          time: 1730160000,
          open: 69962.21,
          high: 73620.12,
          low: 69760.0,
          close: 72736.42,
        },
        {
          time: 1730246400,
          open: 72736.41,
          high: 72961.0,
          low: 71436.0,
          close: 72344.74,
        },
        {
          time: 1730332800,
          open: 72344.75,
          high: 72700.0,
          low: 69685.76,
          close: 70292.01,
        },
        {
          time: 1730419200,
          open: 70292.01,
          high: 71632.95,
          low: 68820.14,
          close: 69496.01,
        },
        {
          time: 1730505600,
          open: 69496.0,
          high: 69914.37,
          low: 69000.14,
          close: 69374.74,
        },
        {
          time: 1730592000,
          open: 69374.74,
          high: 69391.0,
          low: 67478.73,
          close: 68775.99,
        },
        {
          time: 1730678400,
          open: 68775.99,
          high: 69500.0,
          low: 66835.0,
          close: 67850.01,
        },
        {
          time: 1730764800,
          open: 67850.01,
          high: 70577.91,
          low: 67476.63,
          close: 69372.01,
        },
        {
          time: 1730851200,
          open: 69372.01,
          high: 76400.0,
          low: 69298.0,
          close: 75571.99,
        },
        {
          time: 1730937600,
          open: 75571.99,
          high: 76849.99,
          low: 74416.0,
          close: 75857.89,
        },
        {
          time: 1731024000,
          open: 75857.89,
          high: 77199.99,
          low: 75555.0,
          close: 76509.78,
        },
        {
          time: 1731110400,
          open: 76509.78,
          high: 76900.0,
          low: 75714.66,
          close: 76677.46,
        },
        {
          time: 1731196800,
          open: 76677.46,
          high: 81500.0,
          low: 76492.0,
          close: 80370.01,
        },
        {
          time: 1731283200,
          open: 80370.01,
          high: 89530.54,
          low: 80216.01,
          close: 88647.99,
        },
        {
          time: 1731369600,
          open: 88648.0,
          high: 89940.0,
          low: 85072.0,
          close: 87952.01,
        },
        {
          time: 1731456000,
          open: 87952.0,
          high: 93265.64,
          low: 86127.99,
          close: 90375.2,
        },
        {
          time: 1731542400,
          open: 90375.21,
          high: 91790.0,
          low: 86668.21,
          close: 87325.59,
        },
        {
          time: 1731628800,
          open: 87325.59,
          high: 91850.0,
          low: 87073.38,
          close: 91032.07,
        },
        {
          time: 1731715200,
          open: 91032.08,
          high: 91779.66,
          low: 90056.17,
          close: 90586.92,
        },
        {
          time: 1731801600,
          open: 90587.98,
          high: 91449.99,
          low: 88722.0,
          close: 89855.99,
        },
        {
          time: 1731888000,
          open: 89855.98,
          high: 92594.0,
          low: 89376.9,
          close: 90464.08,
        },
        {
          time: 1731974400,
          open: 90464.07,
          high: 93905.51,
          low: 90357.0,
          close: 92310.79,
        },
        {
          time: 1732060800,
          open: 92310.8,
          high: 94831.97,
          low: 91500.0,
          close: 94286.56,
        },
        {
          time: 1732147200,
          open: 94286.56,
          high: 98988.0,
          low: 94040.0,
          close: 98317.12,
        },
        {
          time: 1732233600,
          open: 98317.12,
          high: 99588.01,
          low: 97122.11,
          close: 98892.0,
        },
        {
          time: 1732320000,
          open: 98892.0,
          high: 98908.85,
          low: 97136.0,
          close: 97672.4,
        },
        {
          time: 1732406400,
          open: 97672.4,
          high: 98564.0,
          low: 95734.77,
          close: 97900.04,
        },
        {
          time: 1732492800,
          open: 97900.05,
          high: 98871.8,
          low: 92600.19,
          close: 93010.01,
        },
        {
          time: 1732579200,
          open: 93010.01,
          high: 94973.37,
          low: 90791.1,
          close: 91965.16,
        },
        {
          time: 1732665600,
          open: 91965.16,
          high: 97208.21,
          low: 91792.14,
          close: 95863.11,
        },
        {
          time: 1732752000,
          open: 95863.11,
          high: 96564.0,
          low: 94640.0,
          close: 95643.98,
        },
        {
          time: 1732838400,
          open: 95643.99,
          high: 98619.99,
          low: 95364.99,
          close: 97460.0,
        },
        {
          time: 1732924800,
          open: 97460.0,
          high: 97463.95,
          low: 96092.01,
          close: 96407.99,
        },
        {
          time: 1733011200,
          open: 96407.99,
          high: 97836.0,
          low: 95693.88,
          close: 97185.18,
        },
        {
          time: 1733097600,
          open: 97185.17,
          high: 98130.0,
          low: 94395.0,
          close: 95840.62,
        },
        {
          time: 1733184000,
          open: 95840.61,
          high: 96305.52,
          low: 93578.17,
          close: 95849.69,
        },
        {
          time: 1733270400,
          open: 95849.69,
          high: 99000.0,
          low: 94587.83,
          close: 98587.32,
        },
        {
          time: 1733356800,
          open: 98587.32,
          high: 104088.0,
          low: 90500.0,
          close: 96945.63,
        },
        {
          time: 1733443200,
          open: 96945.63,
          high: 101898.99,
          low: 95981.72,
          close: 99740.84,
        },
        {
          time: 1733529600,
          open: 99740.84,
          high: 100439.18,
          low: 98844.0,
          close: 99831.99,
        },
        {
          time: 1733616000,
          open: 99831.99,
          high: 101351.0,
          low: 98657.7,
          close: 101109.59,
        },
        {
          time: 1733702400,
          open: 101109.6,
          high: 101215.93,
          low: 94150.05,
          close: 97276.47,
        },
        {
          time: 1733788800,
          open: 97276.48,
          high: 98270.0,
          low: 94256.54,
          close: 96593.0,
        },
        {
          time: 1733875200,
          open: 96593.0,
          high: 101888.0,
          low: 95658.24,
          close: 101125.0,
        },
        {
          time: 1733961600,
          open: 101125.0,
          high: 102540.0,
          low: 99311.64,
          close: 100004.29,
        },
        {
          time: 1734048000,
          open: 100004.29,
          high: 101895.26,
          low: 99205.0,
          close: 101424.25,
        },
        {
          time: 1734134400,
          open: 101424.24,
          high: 102650.0,
          low: 100609.41,
          close: 101420.0,
        },
        {
          time: 1734220800,
          open: 101420.0,
          high: 105250.0,
          low: 101237.14,
          close: 104463.99,
        },
        {
          time: 1734307200,
          open: 104463.99,
          high: 107793.07,
          low: 103333.0,
          close: 106058.66,
        },
        {
          time: 1734393600,
          open: 106058.65,
          high: 108353.0,
          low: 105321.49,
          close: 106133.74,
        },
        {
          time: 1734480000,
          open: 106133.74,
          high: 106524.98,
          low: 100000.0,
          close: 100204.01,
        },
        {
          time: 1734566400,
          open: 100204.01,
          high: 102800.11,
          low: 95700.0,
          close: 97461.86,
        },
        {
          time: 1734652800,
          open: 97461.86,
          high: 98233.0,
          low: 92232.54,
          close: 97805.44,
        },
        {
          time: 1734739200,
          open: 97805.44,
          high: 99540.61,
          low: 96398.39,
          close: 97291.99,
        },
        {
          time: 1734825600,
          open: 97292.0,
          high: 97448.08,
          low: 94250.35,
          close: 95186.27,
        },
        {
          time: 1734912000,
          open: 95186.28,
          high: 96538.92,
          low: 92520.0,
          close: 94881.47,
        },
        {
          time: 1734998400,
          open: 94881.47,
          high: 99487.99,
          low: 93569.02,
          close: 98663.58,
        },
        {
          time: 1735084800,
          open: 98663.58,
          high: 99569.15,
          low: 97632.02,
          close: 99429.6,
        },
        {
          time: 1735171200,
          open: 99429.61,
          high: 99963.7,
          low: 95199.14,
          close: 95791.6,
        },
        {
          time: 1735257600,
          open: 95791.6,
          high: 97544.58,
          low: 93500.01,
          close: 94299.03,
        },
        {
          time: 1735344000,
          open: 94299.03,
          high: 95733.99,
          low: 94135.66,
          close: 95300.0,
        },
        {
          time: 1735430400,
          open: 95300.0,
          high: 95340.0,
          low: 93009.52,
          close: 93738.2,
        },
        {
          time: 1735516800,
          open: 93738.19,
          high: 95024.5,
          low: 91530.45,
          close: 92792.05,
        },
        {
          time: 1735603200,
          open: 92792.05,
          high: 96250.0,
          low: 92033.73,
          close: 93576.0,
        },
        {
          time: 1735689600,
          open: 93576.0,
          high: 95151.15,
          low: 92888.0,
          close: 94591.79,
        },
        {
          time: 1735776000,
          open: 94591.78,
          high: 97839.5,
          low: 94392.0,
          close: 96984.79,
        },
        {
          time: 1735862400,
          open: 96984.79,
          high: 98976.91,
          low: 96100.01,
          close: 98174.18,
        },
        {
          time: 1735948800,
          open: 98174.17,
          high: 98778.43,
          low: 97514.79,
          close: 98220.5,
        },
        {
          time: 1736035200,
          open: 98220.51,
          high: 98836.85,
          low: 97276.79,
          close: 98363.61,
        },
        {
          time: 1736121600,
          open: 98363.61,
          high: 102480.0,
          low: 97920.0,
          close: 102235.6,
        },
        {
          time: 1736208000,
          open: 102235.6,
          high: 102724.38,
          low: 96181.81,
          close: 96954.61,
        },
        {
          time: 1736294400,
          open: 96954.6,
          high: 97268.65,
          low: 92500.9,
          close: 95060.61,
        },
        {
          time: 1736380800,
          open: 95060.61,
          high: 95382.32,
          low: 91203.67,
          close: 92552.49,
        },
        {
          time: 1736467200,
          open: 92552.49,
          high: 95836.0,
          low: 92206.02,
          close: 94726.11,
        },
        {
          time: 1736553600,
          open: 94726.1,
          high: 95050.94,
          low: 93831.73,
          close: 94599.99,
        },
        {
          time: 1736640000,
          open: 94599.99,
          high: 95450.1,
          low: 93711.19,
          close: 94545.06,
        },
        {
          time: 1736726400,
          open: 94545.07,
          high: 95940.0,
          low: 89256.69,
          close: 94536.1,
        },
        {
          time: 1736812800,
          open: 94536.11,
          high: 97371.0,
          low: 94346.22,
          close: 96560.86,
        },
        {
          time: 1736899200,
          open: 96560.85,
          high: 100681.94,
          low: 96500.0,
          close: 100497.35,
        },
        {
          time: 1736985600,
          open: 100497.35,
          high: 100866.66,
          low: 97335.13,
          close: 99987.3,
        },
        {
          time: 1737072000,
          open: 99987.3,
          high: 105865.22,
          low: 99950.77,
          close: 104077.48,
        },
        {
          time: 1737158400,
          open: 104077.47,
          high: 104988.88,
          low: 102277.55,
          close: 104556.23,
        },
        {
          time: 1737244800,
          open: 104556.23,
          high: 106422.43,
          low: 99651.6,
          close: 101331.57,
        },
        {
          time: 1737331200,
          open: 101331.57,
          high: 109588.0,
          low: 99550.0,
          close: 102260.01,
        },
        {
          time: 1737417600,
          open: 102260.0,
          high: 107240.81,
          low: 100119.04,
          close: 106143.82,
        },
        {
          time: 1737504000,
          open: 106143.82,
          high: 106394.46,
          low: 103339.12,
          close: 103706.66,
        },
        {
          time: 1737590400,
          open: 103706.66,
          high: 106850.0,
          low: 101262.28,
          close: 103910.34,
        },
        {
          time: 1737676800,
          open: 103910.35,
          high: 107120.0,
          low: 102750.0,
          close: 104870.5,
        },
        {
          time: 1737763200,
          open: 104870.51,
          high: 105286.52,
          low: 104106.09,
          close: 104746.85,
        },
        {
          time: 1737849600,
          open: 104746.86,
          high: 105500.0,
          low: 102520.44,
          close: 102620.0,
        },
        {
          time: 1737936000,
          open: 102620.01,
          high: 103260.0,
          low: 97777.77,
          close: 102082.83,
        },
        {
          time: 1738022400,
          open: 102082.83,
          high: 103800.0,
          low: 100272.68,
          close: 101335.52,
        },
        {
          time: 1738108800,
          open: 101335.52,
          high: 104782.68,
          low: 101328.01,
          close: 103733.24,
        },
        {
          time: 1738195200,
          open: 103733.25,
          high: 106457.44,
          low: 103278.54,
          close: 104722.94,
        },
        {
          time: 1738281600,
          open: 104722.94,
          high: 106012.0,
          low: 101560.0,
          close: 102429.56,
        },
        {
          time: 1738368000,
          open: 102429.56,
          high: 102783.71,
          low: 100279.51,
          close: 100635.65,
        },
        {
          time: 1738454400,
          open: 100635.66,
          high: 101456.6,
          low: 96150.0,
          close: 97700.59,
        },
        {
          time: 1738540800,
          open: 97700.59,
          high: 102500.01,
          low: 91231.0,
          close: 101328.52,
        },
        {
          time: 1738627200,
          open: 101328.51,
          high: 101732.31,
          low: 96150.0,
          close: 97763.13,
        },
        {
          time: 1738713600,
          open: 97763.14,
          high: 99149.0,
          low: 96155.0,
          close: 96612.43,
        },
        {
          time: 1738800000,
          open: 96612.44,
          high: 99120.0,
          low: 95676.64,
          close: 96554.35,
        },
        {
          time: 1738886400,
          open: 96554.35,
          high: 100137.99,
          low: 95620.34,
          close: 96506.8,
        },
        {
          time: 1738972800,
          open: 96506.8,
          high: 96880.0,
          low: 95688.0,
          close: 96444.74,
        },
        {
          time: 1739059200,
          open: 96444.75,
          high: 97323.09,
          low: 94713.0,
          close: 96462.75,
        },
        {
          time: 1739145600,
          open: 96462.75,
          high: 98345.0,
          low: 95256.0,
          close: 97430.82,
        },
        {
          time: 1739232000,
          open: 97430.82,
          high: 98478.42,
          low: 94876.88,
          close: 95778.2,
        },
        {
          time: 1739318400,
          open: 95778.21,
          high: 98119.99,
          low: 94088.23,
          close: 97869.99,
        },
        {
          time: 1739404800,
          open: 97870.0,
          high: 98083.91,
          low: 95217.36,
          close: 96608.14,
        },
        {
          time: 1739491200,
          open: 96608.13,
          high: 98826.0,
          low: 96252.82,
          close: 97500.48,
        },
        {
          time: 1739577600,
          open: 97500.47,
          high: 97972.26,
          low: 97223.58,
          close: 97569.66,
        },
        {
          time: 1739664000,
          open: 97569.67,
          high: 97704.47,
          low: 96046.18,
          close: 96118.12,
        },
        {
          time: 1739750400,
          open: 96118.12,
          high: 97046.59,
          low: 95205.0,
          close: 95780.0,
        },
        {
          time: 1739836800,
          open: 95780.01,
          high: 96753.91,
          low: 93388.09,
          close: 95671.74,
        },
        {
          time: 1739923200,
          open: 95671.74,
          high: 96899.99,
          low: 95029.99,
          close: 96644.37,
        },
        {
          time: 1740009600,
          open: 96644.37,
          high: 98711.36,
          low: 96415.09,
          close: 98305.0,
        },
        {
          time: 1740096000,
          open: 98305.01,
          high: 99475.0,
          low: 94871.95,
          close: 96181.98,
        },
        {
          time: 1740182400,
          open: 96181.99,
          high: 96980.0,
          low: 95770.49,
          close: 96551.01,
        },
        {
          time: 1740268800,
          open: 96551.01,
          high: 96650.0,
          low: 95227.94,
          close: 96258.0,
        },
        {
          time: 1740355200,
          open: 96258.0,
          high: 96500.0,
          low: 91349.26,
          close: 91552.88,
        },
        {
          time: 1740441600,
          open: 91552.88,
          high: 92540.69,
          low: 86050.99,
          close: 88680.4,
        },
        {
          time: 1740528000,
          open: 88680.39,
          high: 89414.15,
          low: 82256.01,
          close: 84250.09,
        },
        {
          time: 1740614400,
          open: 84250.09,
          high: 87078.46,
          low: 82716.49,
          close: 84708.58,
        },
        {
          time: 1740700800,
          open: 84708.57,
          high: 85120.0,
          low: 78258.52,
          close: 84349.94,
        },
        {
          time: 1740787200,
          open: 84349.95,
          high: 86558.0,
          low: 83824.78,
          close: 86064.53,
        },
        {
          time: 1740873600,
          open: 86064.54,
          high: 95000.0,
          low: 85050.6,
          close: 94270.0,
        },
        {
          time: 1740960000,
          open: 94269.99,
          high: 94416.46,
          low: 85117.11,
          close: 86220.61,
        },
        {
          time: 1741046400,
          open: 86221.16,
          high: 88967.52,
          low: 81500.0,
          close: 87281.98,
        },
        {
          time: 1741132800,
          open: 87281.98,
          high: 91000.0,
          low: 86334.53,
          close: 90606.01,
        },
        {
          time: 1741219200,
          open: 90606.0,
          high: 92810.64,
          low: 87836.0,
          close: 89931.89,
        },
        {
          time: 1741305600,
          open: 89931.88,
          high: 91283.02,
          low: 84667.03,
          close: 86801.75,
        },
        {
          time: 1741392000,
          open: 86801.74,
          high: 86897.25,
          low: 85218.47,
          close: 86222.45,
        },
        {
          time: 1741478400,
          open: 86222.46,
          high: 86500.0,
          low: 80000.0,
          close: 80734.37,
        },
        {
          time: 1741564800,
          open: 80734.48,
          high: 84123.46,
          low: 77459.91,
          close: 78595.86,
        },
        {
          time: 1741651200,
          open: 78595.86,
          high: 83617.4,
          low: 76606.0,
          close: 82932.99,
        },
        {
          time: 1741737600,
          open: 82932.99,
          high: 84539.85,
          low: 80607.65,
          close: 83680.12,
        },
        {
          time: 1741824000,
          open: 83680.12,
          high: 84336.33,
          low: 79939.9,
          close: 81115.78,
        },
        {
          time: 1741910400,
          open: 81115.78,
          high: 85309.71,
          low: 80818.84,
          close: 83983.2,
        },
        {
          time: 1741996800,
          open: 83983.19,
          high: 84676.28,
          low: 83618.0,
          close: 84338.44,
        },
        {
          time: 1742083200,
          open: 84338.44,
          high: 85117.04,
          low: 81981.12,
          close: 82574.53,
        },
        {
          time: 1742169600,
          open: 82574.52,
          high: 84756.83,
          low: 82456.0,
          close: 84010.03,
        },
        {
          time: 1742256000,
          open: 84010.02,
          high: 84021.74,
          low: 81134.66,
          close: 82715.03,
        },
        {
          time: 1742342400,
          open: 82715.03,
          high: 87000.0,
          low: 82547.16,
          close: 86845.94,
        },
        {
          time: 1742428800,
          open: 86845.93,
          high: 87453.67,
          low: 83655.23,
          close: 84223.39,
        },
        {
          time: 1742515200,
          open: 84223.38,
          high: 84850.33,
          low: 83175.25,
          close: 84088.79,
        },
        {
          time: 1742601600,
          open: 84088.79,
          high: 84539.17,
          low: 83625.1,
          close: 83840.59,
        },
        {
          time: 1742688000,
          open: 83840.59,
          high: 86129.64,
          low: 83809.75,
          close: 86082.5,
        },
        {
          time: 1742774400,
          open: 86082.5,
          high: 88765.43,
          low: 85519.09,
          close: 87498.16,
        },
        {
          time: 1742860800,
          open: 87498.16,
          high: 88539.63,
          low: 86310.0,
          close: 87392.87,
        },
        {
          time: 1742947200,
          open: 87392.88,
          high: 88275.0,
          low: 85860.0,
          close: 86909.17,
        },
        {
          time: 1743033600,
          open: 86909.17,
          high: 87756.39,
          low: 85800.0,
          close: 87232.01,
        },
        {
          time: 1743120000,
          open: 87232.01,
          high: 87515.67,
          low: 83585.0,
          close: 84424.38,
        },
        {
          time: 1743206400,
          open: 84424.38,
          high: 84624.73,
          low: 81644.81,
          close: 82648.54,
        },
        {
          time: 1743292800,
          open: 82648.53,
          high: 83534.64,
          low: 81565.0,
          close: 82389.99,
        },
        {
          time: 1743379200,
          open: 82390.0,
          high: 83943.08,
          low: 81278.52,
          close: 82550.01,
        },
        {
          time: 1743465600,
          open: 82550.0,
          high: 85579.46,
          low: 82432.74,
          close: 85158.34,
        },
        {
          time: 1743552000,
          open: 85158.35,
          high: 88500.0,
          low: 82320.0,
          close: 82516.29,
        },
        {
          time: 1743638400,
          open: 82516.28,
          high: 83998.02,
          low: 81211.24,
          close: 83213.09,
        },
        {
          time: 1743724800,
          open: 83213.09,
          high: 84720.0,
          low: 81659.0,
          close: 83889.87,
        },
        {
          time: 1743811200,
          open: 83889.87,
          high: 84266.0,
          low: 82379.95,
          close: 83537.99,
        },
        {
          time: 1743897600,
          open: 83537.99,
          high: 83817.63,
          low: 77153.83,
          close: 78430.0,
        },
        {
          time: 1743984000,
          open: 78430.0,
          high: 81243.58,
          low: 74508.0,
          close: 79163.24,
        },
        {
          time: 1744070400,
          open: 79163.24,
          high: 80867.99,
          low: 76239.9,
          close: 76322.42,
        },
        {
          time: 1744156800,
          open: 76322.42,
          high: 83588.0,
          low: 74620.0,
          close: 82615.22,
        },
        {
          time: 1744243200,
          open: 82615.22,
          high: 82753.21,
          low: 78464.36,
          close: 79607.3,
        },
        {
          time: 1744329600,
          open: 79607.3,
          high: 84300.0,
          low: 78969.58,
          close: 83423.84,
        },
        {
          time: 1744416000,
          open: 83423.83,
          high: 85905.0,
          low: 82792.95,
          close: 85276.9,
        },
        {
          time: 1744502400,
          open: 85276.91,
          high: 86100.0,
          low: 83034.23,
          close: 83760.0,
        },
        {
          time: 1744588800,
          open: 83760.0,
          high: 85799.99,
          low: 83678.0,
          close: 84591.58,
        },
        {
          time: 1744675200,
          open: 84591.58,
          high: 86496.42,
          low: 83600.0,
          close: 83643.99,
        },
        {
          time: 1744761600,
          open: 83643.99,
          high: 85500.0,
          low: 83111.64,
          close: 84030.38,
        },
        {
          time: 1744848000,
          open: 84030.38,
          high: 85470.01,
          low: 83736.26,
          close: 84947.91,
        },
        {
          time: 1744934400,
          open: 84947.92,
          high: 85132.08,
          low: 84303.96,
          close: 84474.69,
        },
        {
          time: 1745020800,
          open: 84474.7,
          high: 85677.99,
          low: 84364.45,
          close: 85077.01,
        },
        {
          time: 1745107200,
          open: 85077.0,
          high: 85320.76,
          low: 83949.52,
          close: 85179.24,
        },
        {
          time: 1745193600,
          open: 85179.24,
          high: 88465.99,
          low: 85144.76,
          close: 87516.23,
        },
        {
          time: 1745280000,
          open: 87516.22,
          high: 93888.0,
          low: 87076.03,
          close: 93442.99,
        },
        {
          time: 1745366400,
          open: 93442.99,
          high: 94696.05,
          low: 91935.41,
          close: 93691.08,
        },
        {
          time: 1745452800,
          open: 93691.07,
          high: 94005.0,
          low: 91660.01,
          close: 93980.47,
        },
        {
          time: 1745539200,
          open: 93980.47,
          high: 95758.04,
          low: 92855.96,
          close: 94638.68,
        },
        {
          time: 1745625600,
          open: 94638.68,
          high: 95199.0,
          low: 93870.69,
          close: 94628.0,
        },
        {
          time: 1745712000,
          open: 94628.0,
          high: 95369.0,
          low: 93602.58,
          close: 93749.3,
        },
        {
          time: 1745798400,
          open: 93749.29,
          high: 95630.0,
          low: 92800.01,
          close: 95011.18,
        },
        {
          time: 1745884800,
          open: 95011.18,
          high: 95461.53,
          low: 93742.54,
          close: 94256.82,
        },
        {
          time: 1745971200,
          open: 94256.82,
          high: 95228.45,
          low: 92910.0,
          close: 94172.0,
        },
        {
          time: 1746057600,
          open: 94172.0,
          high: 97424.02,
          low: 94130.43,
          close: 96489.91,
        },
        {
          time: 1746144000,
          open: 96489.9,
          high: 97895.68,
          low: 96350.0,
          close: 96887.14,
        },
        {
          time: 1746230400,
          open: 96887.13,
          high: 96935.67,
          low: 95753.01,
          close: 95856.42,
        },
        {
          time: 1746316800,
          open: 95856.42,
          high: 96304.48,
          low: 94151.38,
          close: 94277.62,
        },
        {
          time: 1746403200,
          open: 94277.61,
          high: 95199.0,
          low: 93514.1,
          close: 94733.68,
        },
        {
          time: 1746489600,
          open: 94733.68,
          high: 96920.65,
          low: 93377.0,
          close: 96834.02,
        },
        {
          time: 1746576000,
          open: 96834.02,
          high: 97732.0,
          low: 95784.61,
          close: 97030.5,
        },
        {
          time: 1746662400,
          open: 97030.5,
          high: 104145.76,
          low: 96876.29,
          close: 103261.6,
        },
        {
          time: 1746748800,
          open: 103261.61,
          high: 104361.3,
          low: 102315.14,
          close: 102971.99,
        },
        {
          time: 1746835200,
          open: 102971.99,
          high: 104984.57,
          low: 102818.76,
          close: 104809.53,
        },
        {
          time: 1746921600,
          open: 104809.53,
          high: 104972.0,
          low: 103345.06,
          close: 104118.0,
        },
        {
          time: 1747008000,
          open: 104118.0,
          high: 105819.45,
          low: 100718.37,
          close: 102791.32,
        },
        {
          time: 1747094400,
          open: 102791.32,
          high: 104976.25,
          low: 101429.7,
          close: 104103.72,
        },
        {
          time: 1747180800,
          open: 104103.72,
          high: 104356.95,
          low: 102602.05,
          close: 103507.82,
        },
        {
          time: 1747267200,
          open: 103507.83,
          high: 104192.7,
          low: 101383.07,
          close: 103763.71,
        },
        {
          time: 1747353600,
          open: 103763.71,
          high: 104550.33,
          low: 103100.49,
          close: 103463.9,
        },
        {
          time: 1747440000,
          open: 103463.9,
          high: 103709.86,
          low: 102612.5,
          close: 103126.65,
        },
        {
          time: 1747526400,
          open: 103126.65,
          high: 106660.0,
          low: 103105.09,
          close: 106454.26,
        },
        {
          time: 1747612800,
          open: 106454.27,
          high: 107108.62,
          low: 102000.0,
          close: 105573.74,
        },
        {
          time: 1747699200,
          open: 105573.73,
          high: 107320.0,
          low: 104184.72,
          close: 106849.99,
        },
        {
          time: 1747785600,
          open: 106850.0,
          high: 110797.38,
          low: 106100.01,
          close: 109643.99,
        },
        {
          time: 1747872000,
          open: 109643.99,
          high: 111980.0,
          low: 109177.37,
          close: 111696.21,
        },
        {
          time: 1747958400,
          open: 111696.22,
          high: 111800.0,
          low: 106800.0,
          close: 107318.3,
        },
        {
          time: 1748044800,
          open: 107318.3,
          high: 109506.03,
          low: 106875.41,
          close: 107761.91,
        },
        {
          time: 1748131200,
          open: 107761.9,
          high: 109299.99,
          low: 106600.64,
          close: 109004.19,
        },
        {
          time: 1748217600,
          open: 109004.2,
          high: 110422.22,
          low: 108670.58,
          close: 109434.79,
        },
        {
          time: 1748304000,
          open: 109434.78,
          high: 110718.0,
          low: 107516.57,
          close: 108938.17,
        },
        {
          time: 1748390400,
          open: 108938.17,
          high: 109284.7,
          low: 106769.43,
          close: 107781.78,
        },
        {
          time: 1748476800,
          open: 107781.78,
          high: 108891.91,
          low: 105322.86,
          close: 105589.75,
        },
        {
          time: 1748563200,
          open: 105589.75,
          high: 106313.12,
          low: 103621.0,
          close: 103985.48,
        },
        {
          time: 1748649600,
          open: 103985.47,
          high: 104900.0,
          low: 103068.55,
          close: 104591.88,
        },
        {
          time: 1748736000,
          open: 104591.88,
          high: 105866.91,
          low: 103752.49,
          close: 105642.93,
        },
        {
          time: 1748822400,
          open: 105642.93,
          high: 105935.63,
          low: 103659.88,
          close: 105857.99,
        },
        {
          time: 1748908800,
          open: 105858.0,
          high: 106794.67,
          low: 104872.5,
          close: 105376.89,
        },
        {
          time: 1748995200,
          open: 105376.9,
          high: 106000.0,
          low: 104179.0,
          close: 104696.86,
        },
        {
          time: 1749081600,
          open: 104696.86,
          high: 105909.71,
          low: 100372.26,
          close: 101508.68,
        },
        {
          time: 1749168000,
          open: 101508.69,
          high: 105333.0,
          low: 101095.8,
          close: 104288.44,
        },
        {
          time: 1749254400,
          open: 104288.43,
          high: 105900.0,
          low: 103871.09,
          close: 105552.15,
        },
        {
          time: 1749340800,
          open: 105552.15,
          high: 106488.14,
          low: 104964.14,
          close: 105734.0,
        },
        {
          time: 1749427200,
          open: 105734.01,
          high: 110530.17,
          low: 105318.37,
          close: 110263.02,
        },
        {
          time: 1749513600,
          open: 110263.02,
          high: 110400.0,
          low: 108331.03,
          close: 110274.39,
        },
        {
          time: 1749600000,
          open: 110274.39,
          high: 110392.01,
          low: 108064.0,
          close: 108645.12,
        },
        {
          time: 1749686400,
          open: 108645.13,
          high: 108813.55,
          low: 105671.72,
          close: 105671.73,
        },
        {
          time: 1749772800,
          open: 105671.74,
          high: 106179.53,
          low: 102664.31,
          close: 106066.59,
        },
        {
          time: 1749859200,
          open: 106066.59,
          high: 106252.0,
          low: 104300.0,
          close: 105414.64,
        },
        {
          time: 1749945600,
          open: 105414.63,
          high: 106128.57,
          low: 104494.53,
          close: 105594.01,
        },
        {
          time: 1750032000,
          open: 105594.02,
          high: 108952.38,
          low: 104980.37,
          close: 106794.53,
        },
        {
          time: 1750118400,
          open: 106794.53,
          high: 107771.34,
          low: 103371.02,
          close: 104551.17,
        },
        {
          time: 1750204800,
          open: 104551.17,
          high: 105550.27,
          low: 103500.0,
          close: 104886.78,
        },
        {
          time: 1750291200,
          open: 104886.79,
          high: 105226.17,
          low: 103929.27,
          close: 104658.59,
        },
        {
          time: 1750377600,
          open: 104658.59,
          high: 106524.65,
          low: 102345.0,
          close: 103297.99,
        },
        {
          time: 1750464000,
          open: 103297.98,
          high: 103982.64,
          low: 100837.9,
          close: 102120.01,
        },
        {
          time: 1750550400,
          open: 102120.02,
          high: 103399.62,
          low: 98200.0,
          close: 100963.87,
        },
        {
          time: 1750636800,
          open: 100963.87,
          high: 106074.2,
          low: 99613.33,
          close: 105333.93,
        },
        {
          time: 1750723200,
          open: 105333.94,
          high: 106290.0,
          low: 104622.02,
          close: 106083.0,
        },
        {
          time: 1750809600,
          open: 106083.0,
          high: 108135.3,
          low: 105808.03,
          close: 107340.58,
        },
        {
          time: 1750896000,
          open: 107340.59,
          high: 108272.45,
          low: 106562.5,
          close: 106947.06,
        },
        {
          time: 1750982400,
          open: 106947.06,
          high: 107735.34,
          low: 106356.76,
          close: 107047.59,
        },
        {
          time: 1751068800,
          open: 107047.58,
          high: 107577.75,
          low: 106811.51,
          close: 107296.79,
        },
        {
          time: 1751155200,
          open: 107296.79,
          high: 108528.5,
          low: 107172.52,
          close: 108356.93,
        },
        {
          time: 1751241600,
          open: 108356.93,
          high: 108789.99,
          low: 106733.33,
          close: 107146.5,
        },
        {
          time: 1751328000,
          open: 107146.51,
          high: 107540.0,
          low: 105250.85,
          close: 105681.14,
        },
        {
          time: 1751414400,
          open: 105681.13,
          high: 109730.0,
          low: 105100.19,
          close: 108849.6,
        },
        {
          time: 1751500800,
          open: 108849.59,
          high: 110529.18,
          low: 108530.4,
          close: 109584.78,
        },
        {
          time: 1751587200,
          open: 109584.77,
          high: 109767.59,
          low: 107245.0,
          close: 107984.24,
        },
        {
          time: 1751673600,
          open: 107984.25,
          high: 108420.56,
          low: 107756.31,
          close: 108198.12,
        },
        {
          time: 1751760000,
          open: 108198.12,
          high: 109700.0,
          low: 107800.01,
          close: 109203.84,
        },
        {
          time: 1751846400,
          open: 109203.85,
          high: 109700.0,
          low: 107513.2,
          close: 108262.94,
        },
        {
          time: 1751932800,
          open: 108262.94,
          high: 109216.56,
          low: 107429.57,
          close: 108922.98,
        },
        {
          time: 1752019200,
          open: 108922.99,
          high: 111999.79,
          low: 108324.53,
          close: 111233.99,
        },
        {
          time: 1752105600,
          open: 111234.0,
          high: 116868.0,
          low: 110500.0,
          close: 116010.0,
        },
        {
          time: 1752192000,
          open: 116010.01,
          high: 118869.98,
          low: 115222.22,
          close: 117527.66,
        },
        {
          time: 1752278400,
          open: 117527.66,
          high: 118200.0,
          low: 116900.05,
          close: 117420.0,
        },
        {
          time: 1752364800,
          open: 117420.0,
          high: 119488.0,
          low: 117224.79,
          close: 119086.64,
        },
        {
          time: 1752451200,
          open: 119086.65,
          high: 123218.0,
          low: 118905.18,
          close: 119841.18,
        },
        {
          time: 1752537600,
          open: 119841.17,
          high: 119940.83,
          low: 115736.92,
          close: 117758.09,
        },
        {
          time: 1752624000,
          open: 117758.08,
          high: 120063.84,
          low: 117017.29,
          close: 118630.43,
        },
        {
          time: 1752710400,
          open: 118630.44,
          high: 120998.71,
          low: 117453.57,
          close: 119177.56,
        },
        {
          time: 1752796800,
          open: 119177.56,
          high: 120820.71,
          low: 116812.76,
          close: 117924.84,
        },
        {
          time: 1752883200,
          open: 117924.84,
          high: 118499.9,
          low: 117277.34,
          close: 117840.0,
        },
        {
          time: 1752969600,
          open: 117840.01,
          high: 118856.8,
          low: 116467.02,
          close: 117265.12,
        },
        {
          time: 1753056000,
          open: 117265.11,
          high: 119676.73,
          low: 116515.0,
          close: 117380.36,
        },
        {
          time: 1753142400,
          open: 117380.36,
          high: 120247.8,
          low: 116128.0,
          close: 119954.42,
        },
        {
          time: 1753228800,
          open: 119954.43,
          high: 120090.0,
          low: 117301.0,
          close: 118755.99,
        },
        {
          time: 1753315200,
          open: 118756.0,
          high: 119450.0,
          low: 117103.1,
          close: 118340.99,
        },
        {
          time: 1753401600,
          open: 118340.98,
          high: 118451.57,
          low: 114723.16,
          close: 117614.31,
        },
        {
          time: 1753488000,
          open: 117614.31,
          high: 118297.35,
          low: 117138.38,
          close: 117919.99,
        },
        {
          time: 1753574400,
          open: 117919.99,
          high: 119766.65,
          low: 117825.5,
          close: 119415.55,
        },
        {
          time: 1753660800,
          open: 119415.56,
          high: 119800.0,
          low: 117427.5,
          close: 118062.32,
        },
        {
          time: 1753747200,
          open: 118062.32,
          high: 119273.36,
          low: 116950.75,
          close: 117950.76,
        },
        {
          time: 1753833600,
          open: 117950.75,
          high: 118792.0,
          low: 115796.23,
          close: 117840.3,
        },
        {
          time: 1753920000,
          open: 117840.29,
          high: 118922.45,
          low: 115500.0,
          close: 115764.08,
        },
        {
          time: 1754006400,
          open: 115764.07,
          high: 116052.0,
          low: 112722.58,
          close: 113297.93,
        },
        {
          time: 1754092800,
          open: 113297.92,
          high: 114063.49,
          low: 112003.0,
          close: 112546.35,
        },
        {
          time: 1754179200,
          open: 112546.35,
          high: 114799.97,
          low: 111920.0,
          close: 114208.8,
        },
        {
          time: 1754265600,
          open: 114208.81,
          high: 115720.0,
          low: 114107.6,
          close: 115055.03,
        },
        {
          time: 1754352000,
          open: 115055.03,
          high: 115127.81,
          low: 112650.0,
          close: 114129.75,
        },
        {
          time: 1754438400,
          open: 114129.75,
          high: 115716.0,
          low: 113355.13,
          close: 114992.27,
        },
        {
          time: 1754524800,
          open: 114992.27,
          high: 117621.0,
          low: 114259.0,
          close: 117472.01,
        },
        {
          time: 1754611200,
          open: 117472.02,
          high: 117630.0,
          low: 115878.71,
          close: 116674.74,
        },
        {
          time: 1754697600,
          open: 116674.74,
          high: 117944.05,
          low: 116299.13,
          close: 116462.25,
        },
        {
          time: 1754784000,
          open: 116462.25,
          high: 119311.11,
          low: 116460.63,
          close: 119294.01,
        },
        {
          time: 1754870400,
          open: 119294.27,
          high: 122335.16,
          low: 118050.11,
          close: 118686.0,
        },
        {
          time: 1754956800,
          open: 118686.0,
          high: 120324.43,
          low: 118207.47,
          close: 120134.08,
        },
        {
          time: 1755043200,
          open: 120134.09,
          high: 123667.79,
          low: 118920.92,
          close: 123306.43,
        },
        {
          time: 1755129600,
          open: 123306.44,
          high: 124474.0,
          low: 117180.0,
          close: 118295.09,
        },
        {
          time: 1755216000,
          open: 118295.09,
          high: 119216.82,
          low: 116803.99,
          close: 117342.05,
        },
        {
          time: 1755302400,
          open: 117342.04,
          high: 117898.99,
          low: 117143.98,
          close: 117380.66,
        },
        {
          time: 1755388800,
          open: 117380.66,
          high: 118575.0,
          low: 117172.21,
          close: 117405.01,
        },
        {
          time: 1755475200,
          open: 117405.01,
          high: 117543.75,
          low: 114640.14,
          close: 116227.05,
        },
        {
          time: 1755561600,
          open: 116227.05,
          high: 116725.69,
          low: 112732.58,
          close: 112872.94,
        },
        {
          time: 1755648000,
          open: 112872.95,
          high: 114615.38,
          low: 112380.0,
          close: 114271.24,
        },
        {
          time: 1755734400,
          open: 114271.23,
          high: 114821.76,
          low: 112015.67,
          close: 112500.0,
        },
        {
          time: 1755820800,
          open: 112500.0,
          high: 117429.05,
          low: 111684.79,
          close: 116935.99,
        },
        {
          time: 1755907200,
          open: 116936.0,
          high: 117030.0,
          low: 114560.0,
          close: 115438.05,
        },
        {
          time: 1755993600,
          open: 115438.06,
          high: 115666.68,
          low: 110680.0,
          close: 113493.59,
        },
        {
          time: 1756080000,
          open: 113493.59,
          high: 113667.28,
          low: 109274.1,
          close: 110111.98,
        },
        {
          time: 1756166400,
          open: 110111.98,
          high: 112371.0,
          low: 108666.66,
          close: 111763.22,
        },
        {
          time: 1756252800,
          open: 111763.22,
          high: 112625.0,
          low: 110345.42,
          close: 111262.01,
        },
        {
          time: 1756339200,
          open: 111262.01,
          high: 113485.9,
          low: 110862.42,
          close: 112566.9,
        },
        {
          time: 1756425600,
          open: 112566.9,
          high: 112638.64,
          low: 107463.9,
          close: 108377.4,
        },
        {
          time: 1756512000,
          open: 108377.4,
          high: 108926.15,
          low: 107350.1,
          close: 108816.33,
        },
        {
          time: 1756598400,
          open: 108816.33,
          high: 109480.02,
          low: 108076.93,
          close: 108246.35,
        },
        {
          time: 1756684800,
          open: 108246.36,
          high: 109912.4,
          low: 107255.0,
          close: 109237.42,
        },
        {
          time: 1756771200,
          open: 109237.43,
          high: 111771.52,
          low: 108393.39,
          close: 111240.01,
        },
        {
          time: 1756857600,
          open: 111240.01,
          high: 112575.27,
          low: 110528.71,
          close: 111705.71,
        },
        {
          time: 1756944000,
          open: 111705.72,
          high: 112180.0,
          low: 109329.12,
          close: 110730.87,
        },
        {
          time: 1757030400,
          open: 110730.87,
          high: 113384.62,
          low: 110206.96,
          close: 110659.99,
        },
        {
          time: 1757116800,
          open: 110660.0,
          high: 111307.7,
          low: 109977.0,
          close: 110187.97,
        },
        {
          time: 1757203200,
          open: 110187.98,
          high: 111600.0,
          low: 110180.0,
          close: 111137.34,
        },
        {
          time: 1757289600,
          open: 111137.35,
          high: 112924.37,
          low: 110621.78,
          close: 112065.23,
        },
        {
          time: 1757376000,
          open: 112065.23,
          high: 113293.29,
          low: 110766.66,
          close: 111546.39,
        },
        {
          time: 1757462400,
          open: 111546.38,
          high: 114313.13,
          low: 110917.45,
          close: 113960.0,
        },
        {
          time: 1757548800,
          open: 113960.0,
          high: 115488.09,
          low: 113430.0,
          close: 115482.69,
        },
        {
          time: 1757635200,
          open: 115482.69,
          high: 116665.63,
          low: 114740.99,
          close: 116029.42,
        },
        {
          time: 1757721600,
          open: 116029.41,
          high: 116298.78,
          low: 115127.27,
          close: 115918.29,
        },
        {
          time: 1757808000,
          open: 115918.29,
          high: 116165.19,
          low: 115135.0,
          close: 115268.01,
        },
        {
          time: 1757894400,
          open: 115268.01,
          high: 116757.99,
          low: 114384.0,
          close: 115349.71,
        },
        {
          time: 1757980800,
          open: 115349.71,
          high: 116964.27,
          low: 114737.11,
          close: 116788.96,
        },
        {
          time: 1758067200,
          open: 116788.96,
          high: 117286.73,
          low: 114720.81,
          close: 116447.59,
        },
        {
          time: 1758153600,
          open: 116447.6,
          high: 117900.0,
          low: 116092.76,
          close: 117073.53,
        },
        {
          time: 1758240000,
          open: 117073.53,
          high: 117459.99,
          low: 115100.0,
          close: 115632.38,
        },
        {
          time: 1758326400,
          open: 115632.39,
          high: 116121.81,
          low: 115408.47,
          close: 115685.63,
        },
        {
          time: 1758412800,
          open: 115685.63,
          high: 115819.06,
          low: 115188.0,
          close: 115232.29,
        },
        {
          time: 1758499200,
          open: 115232.29,
          high: 115379.25,
          low: 111800.0,
          close: 112650.99,
        },
        {
          time: 1758585600,
          open: 112650.99,
          high: 113290.5,
          low: 111458.73,
          close: 111998.8,
        },
        {
          time: 1758672000,
          open: 111998.8,
          high: 113940.0,
          low: 111042.66,
          close: 113307.0,
        },
        {
          time: 1758758400,
          open: 113307.01,
          high: 113510.23,
          low: 108631.51,
          close: 108994.49,
        },
        {
          time: 1758844800,
          open: 108994.49,
          high: 110300.0,
          low: 108620.07,
          close: 109643.46,
        },
        {
          time: 1758931200,
          open: 109643.46,
          high: 109743.91,
          low: 109064.4,
          close: 109635.85,
        },
        {
          time: 1759017600,
          open: 109635.85,
          high: 112350.0,
          low: 109189.99,
          close: 112163.95,
        },
        {
          time: 1759104000,
          open: 112163.96,
          high: 114400.0,
          low: 111560.65,
          close: 114311.96,
        },
        {
          time: 1759190400,
          open: 114311.97,
          high: 114792.0,
          low: 112656.27,
          close: 114048.93,
        },
        {
          time: 1759276800,
          open: 114048.94,
          high: 118649.1,
          low: 113966.67,
          close: 118594.99,
        },
        {
          time: 1759363200,
          open: 118594.99,
          high: 121022.07,
          low: 118279.31,
          close: 120529.35,
        },
        {
          time: 1759449600,
          open: 120529.35,
          high: 123894.99,
          low: 119248.3,
          close: 122232.0,
        },
        {
          time: 1759536000,
          open: 122232.21,
          high: 122800.0,
          low: 121510.0,
          close: 122391.0,
        },
        {
          time: 1759622400,
          open: 122390.99,
          high: 125708.42,
          low: 122136.0,
          close: 123482.31,
        },
        {
          time: 1759708800,
          open: 123482.32,
          high: 126199.63,
          low: 123084.0,
          close: 124658.54,
        },
        {
          time: 1759795200,
          open: 124658.54,
          high: 125126.0,
          low: 120574.94,
          close: 121332.95,
        },
        {
          time: 1759881600,
          open: 121332.96,
          high: 124197.25,
          low: 121066.14,
          close: 123306.0,
        },
        {
          time: 1759968000,
          open: 123306.01,
          high: 123762.94,
          low: 119651.47,
          close: 121662.4,
        },
        {
          time: 1760054400,
          open: 121662.41,
          high: 122550.0,
          low: 102000.0,
          close: 112774.5,
        },
        {
          time: 1760140800,
          open: 112774.49,
          high: 113322.39,
          low: 109561.59,
          close: 110644.4,
        },
        {
          time: 1760227200,
          open: 110644.4,
          high: 115770.0,
          low: 109565.06,
          close: 114958.8,
        },
        {
          time: 1760313600,
          open: 114958.81,
          high: 115963.81,
          low: 113616.5,
          close: 115166.0,
        },
        {
          time: 1760400000,
          open: 115166.0,
          high: 115409.96,
          low: 109866.0,
          close: 113028.14,
        },
        {
          time: 1760486400,
          open: 113028.13,
          high: 113612.35,
          low: 110164.0,
          close: 110763.28,
        },
        {
          time: 1760572800,
          open: 110763.28,
          high: 111982.45,
          low: 107427.0,
          close: 108194.28,
        },
        {
          time: 1760659200,
          open: 108194.27,
          high: 109240.0,
          low: 103528.23,
          close: 106431.68,
        },
        {
          time: 1760745600,
          open: 106431.68,
          high: 107499.0,
          low: 106322.2,
          close: 107185.01,
        },
        {
          time: 1760832000,
          open: 107185.0,
          high: 109450.07,
          low: 106103.36,
          close: 108642.78,
        },
        {
          time: 1760918400,
          open: 108642.77,
          high: 111705.56,
          low: 107402.52,
          close: 110532.09,
        },
        {
          time: 1761004800,
          open: 110532.09,
          high: 114000.0,
          low: 107473.72,
          close: 108297.67,
        },
        {
          time: 1761091200,
          open: 108297.66,
          high: 109163.88,
          low: 106666.69,
          close: 107567.44,
        },
        {
          time: 1761177600,
          open: 107567.45,
          high: 111293.61,
          low: 107500.0,
          close: 110078.18,
        },
        {
          time: 1761264000,
          open: 110078.19,
          high: 112104.98,
          low: 109700.01,
          close: 111004.89,
        },
        {
          time: 1761350400,
          open: 111004.9,
          high: 111943.19,
          low: 110672.86,
          close: 111646.27,
        },
        {
          time: 1761436800,
          open: 111646.27,
          high: 115466.8,
          low: 111260.45,
          close: 114559.4,
        },
        {
          time: 1761523200,
          open: 114559.41,
          high: 116400.0,
          low: 113830.01,
          close: 114107.65,
        },
        {
          time: 1761609600,
          open: 114107.65,
          high: 116086.0,
          low: 112211.0,
          close: 112898.45,
        },
        {
          time: 1761696000,
          open: 112898.44,
          high: 113643.73,
          low: 109200.0,
          close: 110021.29,
        },
        {
          time: 1761782400,
          open: 110021.3,
          high: 111592.0,
          low: 106304.34,
          close: 108322.88,
        },
        {
          time: 1761868800,
          open: 108322.87,
          high: 111190.0,
          low: 108275.28,
          close: 109608.01,
        },
        {
          time: 1761955200,
          open: 109608.01,
          high: 110564.49,
          low: 109394.81,
          close: 110098.1,
        },
        {
          time: 1762041600,
          open: 110098.1,
          high: 111250.01,
          low: 109471.34,
          close: 110540.68,
        },
        {
          time: 1762128000,
          open: 110540.69,
          high: 110750.0,
          low: 105306.56,
          close: 106583.04,
        },
        {
          time: 1762214400,
          open: 106583.05,
          high: 107299.0,
          low: 98944.36,
          close: 101497.22,
        },
        {
          time: 1762300800,
          open: 101497.23,
          high: 104534.74,
          low: 98966.8,
          close: 103885.16,
        },
        {
          time: 1762387200,
          open: 103885.16,
          high: 104200.0,
          low: 100300.95,
          close: 101346.04,
        },
        {
          time: 1762473600,
          open: 101346.04,
          high: 104096.36,
          low: 99260.86,
          close: 103339.08,
        },
        {
          time: 1762560000,
          open: 103339.09,
          high: 103406.22,
          low: 101454.0,
          close: 102312.94,
        },
        {
          time: 1762646400,
          open: 102312.95,
          high: 105495.62,
          low: 101400.0,
          close: 104722.96,
        },
        {
          time: 1762732800,
          open: 104722.95,
          high: 106670.11,
          low: 104265.02,
          close: 106011.13,
        },
        {
          time: 1762819200,
          open: 106011.13,
          high: 107500.0,
          low: 102476.09,
          close: 103058.99,
        },
        {
          time: 1762905600,
          open: 103059.0,
          high: 105333.33,
          low: 100813.59,
          close: 101654.37,
        },
        {
          time: 1762992000,
          open: 101654.37,
          high: 104085.01,
          low: 98000.4,
          close: 99692.02,
        },
        {
          time: 1763078400,
          open: 99692.03,
          high: 99866.02,
          low: 94012.45,
          close: 94594.0,
        },
        {
          time: 1763164800,
          open: 94594.0,
          high: 96846.68,
          low: 94558.49,
          close: 95596.24,
        },
        {
          time: 1763251200,
          open: 95596.23,
          high: 96635.11,
          low: 93005.55,
          close: 94261.44,
        },
        {
          time: 1763337600,
          open: 94261.45,
          high: 96043.0,
          low: 91220.0,
          close: 92215.14,
        },
        {
          time: 1763424000,
          open: 92215.14,
          high: 93836.01,
          low: 89253.78,
          close: 92960.83,
        },
        {
          time: 1763510400,
          open: 92960.83,
          high: 92980.22,
          low: 88608.0,
          close: 91554.96,
        },
        {
          time: 1763596800,
          open: 91554.96,
          high: 93160.0,
          low: 86100.0,
          close: 86637.23,
        },
        {
          time: 1763683200,
          open: 86637.22,
          high: 87498.94,
          low: 80600.0,
          close: 85129.43,
        },
        {
          time: 1763769600,
          open: 85129.42,
          high: 85620.0,
          low: 83500.0,
          close: 84739.74,
        },
        {
          time: 1763856000,
          open: 84739.75,
          high: 88127.64,
          low: 84667.57,
          close: 86830.0,
        },
        {
          time: 1763942400,
          open: 86830.0,
          high: 89228.0,
          low: 85272.0,
          close: 88300.01,
        },
        {
          time: 1764028800,
          open: 88300.01,
          high: 88519.99,
          low: 86116.0,
          close: 87369.96,
        },
        {
          time: 1764115200,
          open: 87369.97,
          high: 90656.08,
          low: 86306.77,
          close: 90484.02,
        },
        {
          time: 1764201600,
          open: 90484.01,
          high: 91950.0,
          low: 90089.91,
          close: 91333.95,
        },
        {
          time: 1764288000,
          open: 91333.94,
          high: 93092.0,
          low: 90180.63,
          close: 90890.7,
        },
        {
          time: 1764374400,
          open: 90890.71,
          high: 91165.65,
          low: 90155.47,
          close: 90802.44,
        },
        {
          time: 1764460800,
          open: 90802.44,
          high: 91055.5,
          low: 90471.0,
          close: 90949.8,
        },
      ];
      // --- Tutorial ---
      function startTutorial() {
        const driver = window.driver.js.driver;

        const driverObj = driver({
          showProgress: true,
          steps: [
            {
              element: ".logo",
              popover: {
                title: "Welcome to The 100 Candles",
                description:
                  "Let's take a quick tour of the trading interface.",
              },
            },
            {
              element: "#dash-balance",
              popover: {
                title: "Wallet Balance",
                description:
                  "This is your total account balance. It persists across games!",
              },
            },
            {
              element: "#dash-pnl",
              popover: {
                title: "Unrealized PnL",
                description:
                  "Track your current trade's Profit or Loss in real-time here.",
              },
            },
            {
              element: "#btn-load-context",
              popover: {
                title: "Load More History",
                description:
                  "Click here to view more historical price data before your entry point. Useful for analyzing trends!",
              },
            },
            {
              element: ".leverage-control",
              popover: {
                title: "Leverage",
                description:
                  "Adjust your leverage up to 100x. Higher leverage means higher risk of liquidation!",
              },
            },
            {
              element: ".controls",
              popover: {
                title: "Trade Controls",
                description:
                  "Set your Take Profit (TP) and Stop Loss (SL) before entering a trade.",
              },
            },
            {
              element: "#btn-skip-candle",
              popover: {
                title: "Next Candle",
                description:
                  "Skip forward one candle to wait for a better entry point. Your entry price updates with each skip!",
              },
            },
            {
              element: "#btn-start",
              popover: {
                title: "Start Trading",
                description:
                  "Click here to begin the simulation. Once started, this becomes a CLOSE POSITION button for manual exits!",
              },
            },
          ],
        });

        driverObj.drive();
      }

      function checkFirstVisit() {
        if (!localStorage.getItem("tutorialShown")) {
          // Small delay to ensure elements are rendered
          setTimeout(() => {
            startTutorial();
            localStorage.setItem("tutorialShown", "true");
          }, 1000);
        }
      }

      // --- Sound Effects & Haptic Feedback ---
      const audioContext = new (window.AudioContext ||
        window.webkitAudioContext)();

      function playClickSound() {
        const oscillator = audioContext.createOscillator();
        const gainNode = audioContext.createGain();

        oscillator.connect(gainNode);
        gainNode.connect(audioContext.destination);

        oscillator.frequency.value = 800;
        oscillator.type = "square";

        gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(
          0.01,
          audioContext.currentTime + 0.05
        );

        oscillator.start(audioContext.currentTime);
        oscillator.stop(audioContext.currentTime + 0.05);
      }

      function playProfitSound() {
        // Cha-ching! (Two ascending tones)
        const times = [0, 0.1];
        const freqs = [523.25, 659.25]; // C5, E5

        times.forEach((time, i) => {
          const oscillator = audioContext.createOscillator();
          const gainNode = audioContext.createGain();

          oscillator.connect(gainNode);
          gainNode.connect(audioContext.destination);

          oscillator.frequency.value = freqs[i];
          oscillator.type = "sine";

          gainNode.gain.setValueAtTime(0.2, audioContext.currentTime + time);
          gainNode.gain.exponentialRampToValueAtTime(
            0.01,
            audioContext.currentTime + time + 0.3
          );

          oscillator.start(audioContext.currentTime + time);
          oscillator.stop(audioContext.currentTime + time + 0.3);
        });

        // Haptic: Light vibration
        if (navigator.vibrate) {
          navigator.vibrate(100);
        }
      }

      function playLossSound() {
        // Glass breaking (descending noise burst)
        const oscillator = audioContext.createOscillator();
        const gainNode = audioContext.createGain();

        oscillator.connect(gainNode);
        gainNode.connect(audioContext.destination);

        oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
        oscillator.frequency.exponentialRampToValueAtTime(
          100,
          audioContext.currentTime + 0.3
        );
        oscillator.type = "sawtooth";

        gainNode.gain.setValueAtTime(0.15, audioContext.currentTime);
        gainNode.gain.exponentialRampToValueAtTime(
          0.01,
          audioContext.currentTime + 0.3
        );

        oscillator.start(audioContext.currentTime);
        oscillator.stop(audioContext.currentTime + 0.3);

        // Haptic: Single vibration
        if (navigator.vibrate) {
          navigator.vibrate(200);
        }
      }

      function playLiquidationSound() {
        // Strong heartbeat-like sound (low frequency pulse)
        const times = [0, 0.15];

        times.forEach((time) => {
          const oscillator = audioContext.createOscillator();
          const gainNode = audioContext.createGain();

          oscillator.connect(gainNode);
          gainNode.connect(audioContext.destination);

          oscillator.frequency.value = 60; // Low bass
          oscillator.type = "sine";

          gainNode.gain.setValueAtTime(0.3, audioContext.currentTime + time);
          gainNode.gain.exponentialRampToValueAtTime(
            0.01,
            audioContext.currentTime + time + 0.1
          );

          oscillator.start(audioContext.currentTime + time);
          oscillator.stop(audioContext.currentTime + time + 0.1);
        });

        // Haptic: Strong double vibration
        if (navigator.vibrate) {
          navigator.vibrate([200, 100, 200]);
        }
      }

      // --- Initialization ---
      window.onload = function () {
        initChart();
        loadScenario();
        checkFirstVisit();

        // Show toast hint
        setTimeout(() => {
          document.getElementById("toast").classList.add("visible");
          setTimeout(
            () => document.getElementById("toast").classList.remove("visible"),
            3000
          );
        }, 1000);
      };

      function initChart() {
        const container = document.getElementById("chart-container");
        chart = LightweightCharts.createChart(container, {
          layout: {
            background: { color: "#1e222d" },
            textColor: "#d1d4dc",
          },
          grid: {
            vertLines: { color: "#2B2B43" },
            horzLines: { color: "#2B2B43" },
          },
          rightPriceScale: {
            borderColor: "#2B2B43",
          },
          timeScale: {
            borderColor: "#2B2B43",
          },
          crosshair: {
            mode: LightweightCharts.CrosshairMode.Normal,
          },
          timeScale: {
            borderColor: "#2B2B43",
            tickMarkFormatter: (time, tickMarkType, locale) => {
              // Obfuscate date: Show relative day number
              if (
                !currentScenario ||
                !currentScenario.data ||
                currentScenario.data.length === 0
              )
                return "";
              const start = currentScenario.data[0].time;
              const diff = time - start;
              const days = Math.round(diff / 86400) + 1;
              return `Day ${days}`;
            },
          },
          localization: {
            timeFormatter: (time) => {
              if (
                !currentScenario ||
                !currentScenario.data ||
                currentScenario.data.length === 0
              )
                return "";
              const start = currentScenario.data[0].time;
              const diff = time - start;
              const days = Math.round(diff / 86400) + 1;
              return `Day ${days}`;
            },
          },
        });

        candleSeries = chart.addCandlestickSeries({
          upColor: "#26a69a",
          downColor: "#ef5350",
          borderVisible: false,
          wickUpColor: "#26a69a",
          wickDownColor: "#ef5350",
        });

        // Handle resize
        window.addEventListener("resize", () => {
          chart.resize(container.clientWidth, container.clientHeight);
        });
      }

      function loadScenario() {
        if (!historicalData || historicalData.length === 0) return;

        // Create a random scenario from the historical data
        // We need at least 300 candles: 100 for context, 100 for past/skip, 100 for future trading
        const totalCandles = 300;
        const maxStartIndex = historicalData.length - totalCandles;

        if (maxStartIndex < 0) {
          console.error("Not enough historical data");
          return;
        }

        const startIndex = Math.floor(Math.random() * maxStartIndex);
        const scenarioData = historicalData.slice(
          startIndex,
          startIndex + totalCandles
        );

        // Reserve first 100 candles for Load Context feature
        const contextReserve = 100;
        availableContextCandles = contextReserve;
        contextStartIndex = startIndex;

        // Use remaining data for the actual scenario (200 candles)
        const actualScenarioData = scenarioData.slice(contextReserve);

        // Determine min/max for volatility calculation
        const prices = actualScenarioData.map((d) => d.close);
        const min = Math.min(...prices);
        const max = Math.max(...prices);
        const volatility = (((max - min) / min) * 100).toFixed(1);

        // Update Title (Obfuscated)
        document.getElementById(
          "scenario-title"
        ).innerHTML = `Scenario #${Math.floor(
          Math.random() * 1000
        )} | Volatility: ${volatility}%`;

        currentScenario = {
          title: `Scenario #${Math.floor(
            Math.random() * 1000
          )} | Volatility: ${volatility}%`,
          description: `Historical price action with ${volatility}% volatility.`,
          data: actualScenarioData,
        };

        document.getElementById("scenario-title").innerText =
          currentScenario.title;

        // Split data 50/50 (100 past, 100 future)
        // This ensures users can skip up to ~70 candles and still have 30 for trading
        const splitIndex = Math.floor(currentScenario.data.length * 0.5);
        const pastData = currentScenario.data.slice(0, splitIndex);
        futureData = currentScenario.data.slice(splitIndex);

        // Entry Price is the Close of the last visible candle
        entryPrice = pastData[pastData.length - 1].close;
        currentIndex = 0;

        candleSeries.setData(pastData);
        chart.timeScale().fitContent();

        // Reset UI
        resetControls();
        createTPSLLines();

        // Enable/disable Load Context button
        const loadBtn = document.getElementById("btn-load-context");
        if (loadBtn) {
          loadBtn.disabled = availableContextCandles <= 0;
        }
      }

      function resetControls() {
        isPlaying = false;
        document.getElementById("btn-start").disabled = false;
        document.getElementById("btn-start").style.display = "block"; // Show button
        document.getElementById("live-pnl-container").style.display = "none"; // Hide Live PnL
        document.getElementById("btn-start").innerText = "START TRADING";
        document.getElementById("btn-start").className = "btn-start"; // Remove close position class
        document.getElementById("result-modal").classList.remove("visible");

        // Show Skip Candle button
        const skipBtn = document.getElementById("btn-skip-candle");
        if (skipBtn) {
          skipBtn.style.display = "block";
          skipBtn.disabled = currentIndex >= futureData.length;
        }

        // Enable leverage
        document.getElementById("leverage-slider").disabled = false;

        // Default sliders to +/- 10%
        const range = entryPrice * 0.1; // 10% range for sliders
        const tpSlider = document.getElementById("tp-slider");
        const slSlider = document.getElementById("sl-slider");

        // Configure slider ranges dynamically based on price
        const minPrice = entryPrice * 0.5; // Widen range for low leverage liq prices
        const maxPrice = entryPrice * 1.5;

        tpSlider.min = minPrice;
        tpSlider.max = maxPrice;
        slSlider.min = minPrice;
        slSlider.max = maxPrice;

        // Set default positions (10% TP/SL)
        if (currentDirection === "long") {
          tpSlider.value = entryPrice * 1.1;
          slSlider.value = entryPrice * 0.9;
        } else {
          tpSlider.value = entryPrice * 0.9;
          slSlider.value = entryPrice * 1.1;
        }

        updateTP(tpSlider.value, "slider");
        updateSL(slSlider.value, "slider");
        updateDashboard();
      }

      function updateLeverage(val) {
        currentLeverage = parseInt(val);
        document.getElementById(
          "leverage-val"
        ).innerText = `${currentLeverage}x`;
        document.getElementById(
          "dash-leverage"
        ).innerText = `${currentLeverage}x`;
        let liqPrice = updateDashboard();
        if (isNaN(liqPrice)) liqPrice = 0;

        // Auto-set SL to Liq Price
        updateSL(liqPrice, "auto");
      }

      function setDirection(dir) {
        if (isPlaying) return;
        currentDirection = dir;

        // Update UI buttons
        document
          .querySelector(".btn-direction.long")
          .classList.toggle("active", dir === "long");
        document
          .querySelector(".btn-direction.short")
          .classList.toggle("active", dir === "short");

        // Swap TP/SL values for convenience
        const tpVal = document.getElementById("tp-slider").value;
        const slVal = document.getElementById("sl-slider").value;

        // Simple logic: just reset to defaults to avoid confusion
        resetControls();
      }

      function createTPSLLines() {
        if (tpLine) candleSeries.removePriceLine(tpLine);
        if (slLine) candleSeries.removePriceLine(slLine);

        tpLine = candleSeries.createPriceLine({
          price: tpPrice,
          color: "#26a69a",
          lineWidth: 2,
          lineStyle: LightweightCharts.LineStyle.Dashed,
          axisLabelVisible: true,
          title: "TP",
        });

        slLine = candleSeries.createPriceLine({
          price: slPrice,
          color: "#ef5350",
          lineWidth: 2,
          lineStyle: LightweightCharts.LineStyle.Dashed,
          axisLabelVisible: true,
          title: "SL",
        });
      }

      function updateTP(val, source) {
        tpPrice = parseFloat(val);
        if (isNaN(tpPrice)) return;

        if (source === "slider") {
          document.getElementById("tp-input").value = tpPrice.toFixed(2);
        } else {
          document.getElementById("tp-slider").value = tpPrice;
        }
        if (tpLine) tpLine.applyOptions({ price: tpPrice });
        updatePnL();
      }

      function updateSL(val, source) {
        slPrice = parseFloat(val);
        if (isNaN(slPrice)) return;

        if (source === "slider") {
          document.getElementById("sl-input").value = slPrice.toFixed(2);
        } else if (source === "input") {
          document.getElementById("sl-slider").value = slPrice;
        } else {
          // Auto/External: Update both
          document.getElementById("sl-input").value = slPrice.toFixed(2);
          document.getElementById("sl-slider").value = slPrice;
        }
        if (slLine) slLine.applyOptions({ price: slPrice });
        updatePnL();
      }

      function updatePnL() {
        // Calculate PnL for TP
        const tpDiff =
          currentDirection === "long"
            ? tpPrice - entryPrice
            : entryPrice - tpPrice;
        const tpPct = (tpDiff / entryPrice) * 100 * currentLeverage;
        const tpAmt = (currentBalance * (tpPct / 100)).toFixed(0);

        const slDiff =
          currentDirection === "long"
            ? slPrice - entryPrice
            : entryPrice - slPrice;
        const slPct = (slDiff / entryPrice) * 100 * currentLeverage;
        const slAmt = (currentBalance * (slPct / 100)).toFixed(0);

        const tpEl = document.getElementById("tp-pnl");
        const slEl = document.getElementById("sl-pnl");

        tpEl.innerText = `${tpAmt >= 0 ? "+" : ""}$${tpAmt} (${tpPct.toFixed(
          1
        )}%)`;
        tpEl.className = `pnl-preview ${tpAmt >= 0 ? "profit" : "loss"}`;

        slEl.innerText = `${slAmt >= 0 ? "+" : ""}$${slAmt} (${slPct.toFixed(
          1
        )}%)`;
        slEl.className = `pnl-preview ${slAmt >= 0 ? "profit" : "loss"}`;
      }

      function updateDashboard() {
        // Update Balance
        document.getElementById("dash-balance").innerText = `$${Math.round(
          currentBalance
        ).toLocaleString()}`;
        // Persistence: Save to local storage
        localStorage.setItem("chartMasterBalance", currentBalance);

        // Calculate Liq Price
        let liqPrice = 0;
        if (currentDirection === "long") {
          liqPrice = entryPrice * (1 - 1 / currentLeverage);
        } else {
          liqPrice = entryPrice * (1 + 1 / currentLeverage);
        }
        // Clamp liq price to 0
        if (liqPrice < 0) liqPrice = 0;

        document.getElementById("dash-liq").innerText = `$${liqPrice.toFixed(
          2
        )}`;
        return liqPrice;
      }

      function getAccountStats() {
        const equity = currentBalance + currentTradePnL;
        const totalProfit = equity - INITIAL_BALANCE;
        const totalRoi = (totalProfit / INITIAL_BALANCE) * 100;
        return { equity, totalProfit, totalRoi };
      }

      // --- V2 Features ---

      // Load Context: Show more historical data
      function loadContext() {
        if (availableContextCandles <= 0) return; // No more data

        playClickSound();

        // Get up to 100 candles from context
        const loadCount = Math.min(100, availableContextCandles);
        const contextEndIndex = contextStartIndex + availableContextCandles;
        const newData = historicalData.slice(
          contextEndIndex - loadCount,
          contextEndIndex
        );

        // Get current chart data and prepend new data
        const currentData = candleSeries.data();
        const combinedData = [...newData, ...currentData];
        candleSeries.setData(combinedData);

        // Update available context
        availableContextCandles -= loadCount;

        // Disable button if no more data
        const loadBtn = document.getElementById("btn-load-context");
        if (loadBtn && availableContextCandles <= 0) {
          loadBtn.disabled = true;
        }

        chart.timeScale().fitContent();
      }

      // Skip Candle: Wait for better entry
      function skipCandle() {
        if (isPlaying) return; // Can't skip during active trade
        if (currentIndex >= futureData.length) return; // No more candles

        // Ensure at least 30 candles remain for trading
        const MIN_FUTURE_CANDLES = 30;
        const remainingCandles = futureData.length - currentIndex;
        if (remainingCandles <= MIN_FUTURE_CANDLES) {
          // Disable button and show feedback
          const skipBtn = document.getElementById("btn-skip-candle");
          if (skipBtn) {
            skipBtn.disabled = true;
          }
          return;
        }

        playClickSound();

        // Get next candle and add to chart
        const candle = futureData[currentIndex];
        candleSeries.update(candle);
        currentIndex++;

        // Update entry price to new candle's close
        entryPrice = candle.close;

        // Recalculate TP/SL based on new entry price
        const tpSlider = document.getElementById("tp-slider");
        const slSlider = document.getElementById("sl-slider");

        // Update slider ranges
        const minPrice = entryPrice * 0.5;
        const maxPrice = entryPrice * 1.5;
        tpSlider.min = minPrice;
        tpSlider.max = maxPrice;
        slSlider.min = minPrice;
        slSlider.max = maxPrice;

        // Reset to default 10% TP/SL
        if (currentDirection === "long") {
          tpSlider.value = entryPrice * 1.1;
          slSlider.value = entryPrice * 0.9;
        } else {
          tpSlider.value = entryPrice * 0.9;
          slSlider.value = entryPrice * 1.1;
        }

        updateTP(tpSlider.value, "slider");
        updateSL(slSlider.value, "slider");
        updateDashboard();

        // Update TP/SL lines
        createTPSLLines();

        // Disable skip button if approaching minimum
        const skipBtn = document.getElementById("btn-skip-candle");
        if (skipBtn && futureData.length - currentIndex <= MIN_FUTURE_CANDLES) {
          skipBtn.disabled = true;
        }
      }

      // Manual Close: Exit position manually
      function manualClose() {
        if (!isPlaying) return; // No active trade

        // Stop animation
        clearInterval(animationInterval);

        // Get current price from last updated candle
        const lastCandle = futureData[currentIndex - 1];
        const currentPrice = lastCandle ? lastCandle.close : entryPrice;

        // Calculate P&L based on current price
        const diff =
          currentDirection === "long"
            ? currentPrice - entryPrice
            : entryPrice - currentPrice;
        const pnlPct = (diff / entryPrice) * 100 * currentLeverage;
        const pnl = currentBalance * (pnlPct / 100);

        // Update balance
        currentBalance += pnl;
        currentTradePnL = 0;
        if (currentBalance < 0) currentBalance = 0;
        updateDashboard();

        // Show result modal with "MANUAL CLOSE" title
        const modal = document.getElementById("result-modal");
        const icon = document.getElementById("result-icon");
        const title = document.getElementById("result-title");
        const amount = document.getElementById("result-amount");
        const desc = document.getElementById("result-desc");
        const link = document.getElementById("referral-link");

        if (pnl >= 0) {
          playProfitSound();
          icon.innerText = "‚úã";
          title.innerText = "MANUAL CLOSE";
          title.style.color = "var(--accent-green)";
          amount.style.color = "var(--accent-green)";
          link.innerText = "Trade Like a Pro (Sign Up)";
        } else {
          playLossSound();
          icon.innerText = "‚úã";
          title.innerText = "MANUAL CLOSE";
          title.style.color = "var(--accent-red)";
          amount.style.color = "var(--accent-red)";
          link.innerText = "Learn Risk Management (Sign Up)";
        }

        amount.innerText =
          (pnl >= 0 ? "+" : "") +
          "$" +
          pnl.toFixed(0) +
          " (" +
          pnlPct.toFixed(1) +
          "%)";
        desc.innerText =
          `Manually closed at $${currentPrice.toFixed(2)}\n\n` +
          currentScenario.description +
          `\nEntry: $${entryPrice.toFixed(2)}`;

        link.href = REFERRAL_LINK;
        modal.classList.add("visible");

        // Reset button state
        isPlaying = false;
      }

      // --- Game Logic ---
      function startGame() {
        if (isPlaying) return;
        isPlaying = true;

        // Sound: Click
        playClickSound();

        // Transform START TRADING button to CLOSE POSITION button
        const startBtn = document.getElementById("btn-start");
        startBtn.innerText = "üõë CLOSE POSITION";
        startBtn.className = "btn-start btn-close-position";
        startBtn.onclick = manualClose;
        startBtn.style.display = "block"; // Keep button visible
        startBtn.disabled = false; // Keep button enabled for manual close

        // Hide Skip Candle button during trade
        const skipBtn = document.getElementById("btn-skip-candle");
        if (skipBtn) {
          skipBtn.style.display = "none";
        }

        // Auto-Focus: Collapse controls
        const controls = document.getElementById("controls-panel");
        controls.classList.add("collapsed");

        // Trigger chart resize
        setTimeout(() => {
          const container = document.getElementById("chart-container");
          if (chart && container) {
            chart.resize(container.clientWidth, container.clientHeight);
          }
        }, 310);

        const pnlContainer = document.getElementById("live-pnl-container");
        const pnlValue = document.getElementById("live-pnl");
        pnlContainer.style.display = "block";
        pnlValue.innerText = "$0";
        pnlValue.className = "live-pnl-value";

        // Disable controls
        document.getElementById("tp-slider").disabled = true;
        document.getElementById("sl-slider").disabled = true;
        document.getElementById("leverage-slider").disabled = true;

        const liqPrice = updateDashboard(); // Get current liq price

        animationInterval = setInterval(() => {
          if (currentIndex >= futureData.length) {
            finishGame("draw");
            return;
          }

          const candle = futureData[currentIndex];
          candleSeries.update(candle);
          currentIndex++;

          const currentPrice = candle.close;
          const high = candle.high;
          const low = candle.low;

          let exitPrice = currentPrice;
          let finishType = null;

          // Check Exits
          if (currentDirection === "long") {
            // Check SL first if it's safer than Liq Price
            if (slPrice > liqPrice && low <= slPrice) {
              finishType = "loss";
              exitPrice = slPrice;
            } else if (low <= liqPrice) {
              finishType = "liquidation";
              exitPrice = liqPrice;
            } else if (low <= slPrice) {
              finishType = "loss";
              exitPrice = slPrice;
            } else if (high >= tpPrice) {
              finishType = "win";
              exitPrice = tpPrice;
            }
          } else {
            // Short
            // Check SL first if it's safer than Liq Price
            if (slPrice < liqPrice && high >= slPrice) {
              finishType = "loss";
              exitPrice = slPrice;
            } else if (high >= liqPrice) {
              finishType = "liquidation";
              exitPrice = liqPrice;
            } else if (high >= slPrice) {
              finishType = "loss";
              exitPrice = slPrice;
            } else if (low <= tpPrice) {
              finishType = "win";
              exitPrice = tpPrice;
            }
          }

          // Update Live PnL (using exitPrice if finishing, else currentPrice)
          const diff =
            currentDirection === "long"
              ? exitPrice - entryPrice
              : entryPrice - exitPrice;
          const pnlPct = (diff / entryPrice) * 100 * currentLeverage;
          const pnlAmt = currentBalance * (pnlPct / 100);
          currentTradePnL = pnlAmt; // Update global live PnL

          pnlValue.innerText = `${pnlAmt >= 0 ? "+" : ""}$${pnlAmt.toFixed(0)}`;
          pnlValue.className = `live-pnl-value ${
            pnlAmt >= 0 ? "profit" : "loss"
          }`;

          // Update Dashboard PnL (Show Cumulative ROI)
          const stats = getAccountStats();
          const dashPnl = document.getElementById("dash-pnl");
          dashPnl.innerText = `${stats.totalProfit >= 0 ? "+" : "-"}$${Math.abs(
            stats.totalProfit
          ).toLocaleString()} (${
            stats.totalRoi >= 0 ? "+" : ""
          }${stats.totalRoi.toFixed(2)}%)`;
          dashPnl.className = `dash-value large ${
            stats.totalProfit >= 0 ? "profit" : "loss"
          }`;

          // Add pulse effect on significant moves
          if (Math.abs(pnlPct) > 5) {
            pnlValue.classList.add(pnlAmt >= 0 ? "pulse-profit" : "pulse-loss");
            setTimeout(
              () => pnlValue.classList.remove("pulse-profit", "pulse-loss"),
              400
            );
          }

          if (finishType) {
            finishGame(finishType);
            return;
          }
        }, 500); // 500ms per candle (Slower)
      }

      function finishGame(result) {
        clearInterval(animationInterval);

        let pnl = 0;
        let pnlPct = 0;

        if (result === "win") {
          // Calculate based on TP
          const diff = Math.abs(tpPrice - entryPrice);
          pnlPct = (diff / entryPrice) * 100 * currentLeverage;
          pnl = currentBalance * (pnlPct / 100);
        } else if (result === "loss") {
          // Calculate based on SL
          const diff = Math.abs(slPrice - entryPrice);
          pnlPct = -(diff / entryPrice) * 100 * currentLeverage; // Negative
          pnl = currentBalance * (pnlPct / 100);
        } else if (result === "liquidation") {
          pnlPct = -100;
          pnl = -currentBalance; // Lose everything
        } else {
          // Draw (end of data) - calculate based on last close
          const lastClose = futureData[futureData.length - 1].close;
          const diff =
            currentDirection === "long"
              ? lastClose - entryPrice
              : entryPrice - lastClose;
          pnlPct = (diff / entryPrice) * 100 * currentLeverage;
          pnl = currentBalance * (pnlPct / 100);
        }

        // Update Balance
        currentBalance += pnl;
        currentTradePnL = 0; // Reset live PnL
        if (currentBalance < 0) currentBalance = 0; // Prevent negative balance
        updateDashboard(); // Update dashboard with new balance

        // Update Modal
        const modal = document.getElementById("result-modal");
        const icon = document.getElementById("result-icon");
        const title = document.getElementById("result-title");
        const amount = document.getElementById("result-amount");
        const desc = document.getElementById("result-desc");
        const link = document.getElementById("referral-link");

        if (result === "liquidation") {
          // Sound: Liquidation
          playLiquidationSound();

          icon.innerText = "üíÄ";
          title.innerText = "LIQUIDATED";
          title.style.color = "var(--accent-red)";
          amount.style.color = "var(--accent-red)";
          link.innerText = "Recharge & Try Again";

          // Bankruptcy Check
          if (currentBalance <= 1) {
            // Show Ad Modal logic
            const retryBtn = document.querySelector(".btn-retry");
            retryBtn.innerText = "üí∏ Bankrupt! Get Bonus to Revive";
            retryBtn.onclick = () => {
              document
                .getElementById("result-modal")
                .classList.remove("visible");
              document.getElementById("ad-modal").classList.add("visible");
            };
            // Also update the link to open ad modal just in case
            link.onclick = (e) => {
              e.preventDefault();
              document
                .getElementById("result-modal")
                .classList.remove("visible");
              document.getElementById("ad-modal").classList.add("visible");
            };
          }
        } else if (pnl >= 0) {
          // Sound: Profit
          playProfitSound();

          icon.innerText = "üöÄ";
          title.innerText = "PROFIT!";
          title.style.color = "var(--accent-green)";
          amount.style.color = "var(--accent-green)";
          link.innerText = "Start Real Trading";
        } else if (pnl < 0) {
          // Sound: Loss
          playLossSound();

          icon.innerText = "üìâ";
          title.innerText = "STOPPED OUT";
          title.style.color = "var(--accent-red)";
          amount.style.color = "var(--accent-red)";
          link.innerText = "Learn Risk Management (Sign Up)";
        }

        // Update Modal with Trade Stats (User Request: "Profit!" shows trade result only)
        amount.innerText =
          (pnl >= 0 ? "+" : "") +
          "$" +
          pnl.toFixed(0) +
          " (" +
          pnlPct.toFixed(1) +
          "%)";
        // Update description based on result
        if (result === "win") {
          desc.innerText =
            "You're in the top 5% of traders! With these skills, you can start making profits right now.";
        } else {
          desc.innerText =
            currentScenario.description +
            "\n\nEntry: $" +
            entryPrice.toFixed(2) +
            "\nExit: $" +
            (result === "loss"
              ? slPrice
              : futureData[futureData.length - 1].close
            ).toFixed(2);
        }

        link.href = REFERRAL_LINK;

        // Show leaderboard submit button
        const submitBtn = document.getElementById("btn-submit-leaderboard");
        submitBtn.style.display = "block";

        modal.classList.add("visible");
      }

      function resetGame() {
        // Ensure we are not bankrupt
        if (currentBalance <= 1) {
          document.getElementById("ad-modal").classList.add("visible");
          return;
        }

        document.getElementById("result-modal").classList.remove("visible");
        document.getElementById("ad-modal").classList.remove("visible");
        document
          .getElementById("submit-leaderboard-modal")
          .classList.remove("visible");

        // Hide leaderboard submit button
        const submitBtn = document.getElementById("btn-submit-leaderboard");
        submitBtn.style.display = "none";

        // Reset Retry Button Text/Action
        const retryBtn = document.querySelector(".btn-retry");
        retryBtn.innerText = "Try Next Scenario";
        retryBtn.onclick = resetGame;

        // Reset Link Action
        const link = document.getElementById("referral-link");
        link.onclick = null; // Remove override

        document.getElementById("tp-slider").disabled = false;
        document.getElementById("sl-slider").disabled = false;

        // Reset START TRADING button to original state
        const startBtn = document.getElementById("btn-start");
        startBtn.innerText = "START TRADING";
        startBtn.className = "btn-start"; // Remove close position class
        startBtn.onclick = startGame; // Restore original handler
        startBtn.disabled = false;

        // Auto-Focus: Expand controls and show start button
        const controls = document.getElementById("controls-panel");
        controls.classList.remove("collapsed");
        startBtn.style.display = "block";

        // Trigger chart resize
        setTimeout(() => {
          const container = document.getElementById("chart-container");
          if (chart && container) {
            chart.resize(container.clientWidth, container.clientHeight);
          }
        }, 310);

        updateDashboard();
        loadScenario();

        // Ensure chart focuses on new scenario's price range
        setTimeout(() => {
          if (chart) {
            chart.timeScale().fitContent();
          }
        }, 100);
      }

      // --- Referral / Bankruptcy Logic ---
      function enableClaim() {
        const btn = document.getElementById("btn-claim-reward");
        btn.innerText = "Checking...";

        // Simulate checking for signup (just a delay)
        setTimeout(() => {
          btn.disabled = false;
          btn.style.background = "#ffd700";
          btn.style.color = "#000";
          btn.style.cursor = "pointer";
          btn.innerText = "üí∞ Claim $10,000 Demo Funds";
          btn.classList.add("pulse-profit");
        }, 2000);
      }

      function claimReward() {
        currentBalance = 10000;
        updateDashboard(); // Saves to local storage

        const btn = document.getElementById("btn-claim-reward");

        // Reset UI
        btn.disabled = true;
        btn.style.background = "#404040";
        btn.style.color = "#787b86";
        btn.style.cursor = "not-allowed";
        btn.classList.remove("pulse-profit");

        document.getElementById("ad-modal").classList.remove("visible");
        alert("Balance Recharged! Good luck!");
        resetGame();
      }

      function shareResult() {
        // 1. Calculate Stats using unified logic
        const { equity, totalProfit, totalRoi } = getAccountStats();

        const roiText = (totalRoi >= 0 ? "+" : "") + totalRoi.toFixed(1) + "%";
        const pnlText =
          (totalProfit >= 0 ? "+" : "-") +
          "$" +
          Math.abs(totalProfit).toLocaleString();

        // 2. Update Share Card
        document.getElementById("share-roi").innerText = roiText;
        document.getElementById("share-pnl").innerText = pnlText;
        document.getElementById("share-pnl").className = `share-pnl-value ${
          totalProfit >= 0 ? "profit" : "loss"
        }`;

        document.getElementById("share-balance").innerText =
          "$" + Math.round(equity).toLocaleString();
        document.getElementById("share-leverage").innerText =
          currentLeverage + "x";

        // 3. Capture and Share/Download
        const card = document.getElementById("share-card");

        html2canvas(card, {
          backgroundColor: null,
          scale: 2,
        })
          .then((canvas) => {
            canvas.toBlob(async (blob) => {
              const file = new File([blob], "the-100-candles-result.png", {
                type: "image/png",
              });

              // Try Web Share API (Mobile Native Share)
              if (navigator.canShare && navigator.canShare({ files: [file] })) {
                try {
                  await navigator.share({
                    files: [file],
                    title: "The 100 Candles Result",
                    text: `I made ${roiText} profit on The 100 Candles! Can you beat me? #The100Candles`,
                  });
                  return; // Success, stop here
                } catch (err) {
                  console.log(
                    "Web Share API failed or cancelled, falling back to download:",
                    err
                  );
                }
              }

              // Fallback: Direct Download (Desktop)
              const link = document.createElement("a");
              link.download = "the-100-candles-result.png";
              link.href = URL.createObjectURL(blob);
              link.click();
              URL.revokeObjectURL(link.href);
            }, "image/png");
          })
          .catch((err) => {
            console.error("Share failed:", err);
            alert("Could not generate image. Please try again.");
          });
      }

      function toggleControls() {
        const controls = document.getElementById("controls-panel");
        controls.classList.toggle("collapsed");

        // Trigger chart resize after transition (300ms)
        setTimeout(() => {
          const container = document.getElementById("chart-container");
          if (chart && container) {
            chart.resize(container.clientWidth, container.clientHeight);
          }
        }, 310);
      }

      // --- Leaderboard Functions ---
      const API_BASE_URL =
        window.location.hostname === "localhost" ||
        window.location.hostname === "127.0.0.1"
          ? "http://localhost:3000/api"
          : "https://the100candles.com/api";

      // Store current game stats for leaderboard submission
      let currentGameStats = null;

      async function showLeaderboard() {
        const modal = document.getElementById("leaderboard-modal");
        const content = document.getElementById("leaderboard-content");

        modal.classList.add("visible");
        content.innerHTML =
          '<div style="text-align: center; padding: 40px; color: #787b86">Loading leaderboard...</div>';

        try {
          const response = await fetch(
            `${API_BASE_URL}/leaderboard?limit=100`,
            {
              credentials: "include",
            }
          );
          const data = await response.json();

          if (data.success && data.leaderboard.length > 0) {
            let html =
              '<div style="display: flex; flex-direction: column; gap: 8px">';

            data.leaderboard.forEach((entry, index) => {
              const medal =
                index === 0
                  ? "ü•á"
                  : index === 1
                  ? "ü•à"
                  : index === 2
                  ? "ü•â"
                  : "";
              const rankDisplay = medal || `#${entry.rank}`;
              const scoreColor =
                entry.totalRoi >= 0
                  ? "var(--accent-green)"
                  : "var(--accent-red)";

              html += `
                <div style="
                  display: flex;
                  align-items: center;
                  justify-content: space-between;
                  padding: 12px;
                  background: ${
                    index < 3 ? "rgba(255, 215, 0, 0.1)" : "var(--panel-bg)"
                  };
                  border: 1px solid var(--border-color);
                  border-radius: 8px;
                ">
                  <div style="display: flex; align-items: center; gap: 12px; flex: 1">
                    <span style="font-weight: 700; color: #787b86; min-width: 40px">${rankDisplay}</span>
                    <span style="font-weight: 600; color: var(--text-color)">${
                      entry.nickname
                    }</span>
                  </div>
                  <div style="text-align: right">
                    <div style="font-weight: 700; color: ${scoreColor}; font-size: 1.1rem">
                      ${entry.totalRoi >= 0 ? "+" : ""}${entry.totalRoi.toFixed(
                2
              )}%
                    </div>
                    <div style="font-size: 0.85rem; color: #787b86">
                      $${entry.equity.toLocaleString()}
                    </div>
                  </div>
                </div>
              `;
            });

            html += "</div>";
            content.innerHTML = html;
          } else {
            content.innerHTML =
              '<div style="text-align: center; padding: 40px; color: #787b86">No entries yet. Be the first!</div>';
          }
        } catch (error) {
          console.error("Error loading leaderboard:", error);
          content.innerHTML =
            '<div style="text-align: center; padding: 40px; color: var(--accent-red)">Failed to load leaderboard. Please try again later.</div>';
        }
      }

      function closeLeaderboard() {
        document
          .getElementById("leaderboard-modal")
          .classList.remove("visible");
      }

      function openSubmitLeaderboard() {
        // Store current game stats
        const stats = getAccountStats();
        currentGameStats = {
          score: stats.equity, // Use equity as score
          equity: stats.equity,
          totalProfit: stats.totalProfit,
          totalRoi: stats.totalRoi,
        };

        // Clear nickname input
        document.getElementById("nickname-input").value = "";

        // Show submit modal
        document
          .getElementById("submit-leaderboard-modal")
          .classList.add("visible");
        document.getElementById("nickname-input").focus();
      }

      function closeSubmitLeaderboard() {
        document
          .getElementById("submit-leaderboard-modal")
          .classList.remove("visible");
        currentGameStats = null;
      }

      async function submitToLeaderboard() {
        const nicknameInput = document.getElementById("nickname-input");
        const nickname = nicknameInput.value.trim();

        if (!nickname) {
          alert("Please enter a nickname");
          return;
        }

        if (!currentGameStats) {
          alert("No game stats available");
          return;
        }

        const submitBtn =
          nicknameInput.nextElementSibling.querySelector("button");
        const originalText = submitBtn.innerText;
        submitBtn.disabled = true;
        submitBtn.innerText = "Submitting...";

        try {
          const response = await fetch(`${API_BASE_URL}/leaderboard`, {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            credentials: "include",
            body: JSON.stringify({
              nickname: nickname,
              score: currentGameStats.score,
              equity: currentGameStats.equity,
              totalProfit: currentGameStats.totalProfit,
              totalRoi: currentGameStats.totalRoi,
            }),
          });

          const data = await response.json();

          if (data.success) {
            closeSubmitLeaderboard();
            alert(`Successfully submitted! Your rank: #${data.rank}`);
            // Optionally refresh leaderboard if it's open
            if (
              document
                .getElementById("leaderboard-modal")
                .classList.contains("visible")
            ) {
              showLeaderboard();
            }
          } else {
            alert("Failed to submit: " + (data.error || "Unknown error"));
            submitBtn.disabled = false;
            submitBtn.innerText = originalText;
          }
        } catch (error) {
          console.error("Error submitting to leaderboard:", error);
          alert("Failed to submit to leaderboard. Please try again.");
          submitBtn.disabled = false;
          submitBtn.innerText = originalText;
        }
      }

      // Allow Enter key to submit
      document.addEventListener("DOMContentLoaded", () => {
        const nicknameInput = document.getElementById("nickname-input");
        if (nicknameInput) {
          nicknameInput.addEventListener("keypress", (e) => {
            if (e.key === "Enter") {
              submitToLeaderboard();
            }
          });
        }
      });
    </script>
  </body>
</html>
